# models/ - æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ç®¡ç†ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆPhase 50.7å®Œäº†æ™‚ç‚¹ï¼‰

## ğŸ¯ å½¹å‰²ãƒ»è²¬ä»»

æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’ã€ç®¡ç†ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¶å¾¡ã€æœ¬ç•ªé‹ç”¨ã‚’çµ±åˆç®¡ç†ã—ã¾ã™ã€‚**Phase 50.7: 3ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚·ã‚¹ãƒ†ãƒ **ã«ã‚ˆã‚Šã€ç‰¹å¾´é‡ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ãŸæœ€é©ãªãƒ¢ãƒ‡ãƒ«ã‚’æä¾›ã—ã€å¤–éƒ¨APIéšœå®³æ™‚ã‚‚å®‰å®šã—ãŸå–å¼•ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆï¼ˆPhase 50.7å®Œäº†ç‰ˆï¼‰

```
models/
â”œâ”€â”€ README.md                         # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPhase 50.7å®Œäº†ç‰ˆï¼‰
â”œâ”€â”€ production/                       # æœ¬ç•ªç’°å¢ƒç”¨ãƒ¢ãƒ‡ãƒ«ï¼ˆ4.2MBï¼‰
â”‚   â”œâ”€â”€ ensemble_level1.pkl          # Level 1: 70ç‰¹å¾´é‡ãƒ¢ãƒ‡ãƒ«ï¼ˆå®Œå…¨+å¤–éƒ¨APIãƒ»1.5MBï¼‰
â”‚   â”œâ”€â”€ ensemble_level2.pkl          # Level 2: 62ç‰¹å¾´é‡ãƒ¢ãƒ‡ãƒ«ï¼ˆå®Œå…¨ãƒ»1.4MBï¼‰
â”‚   â”œâ”€â”€ ensemble_level3.pkl          # Level 3: 57ç‰¹å¾´é‡ãƒ¢ãƒ‡ãƒ«ï¼ˆåŸºæœ¬ãƒ»1.3MBï¼‰
â”‚   â””â”€â”€ production_model_metadata.json # æœ¬ç•ªãƒ¢ãƒ‡ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆæ€§èƒ½æŒ‡æ¨™ãƒ»å­¦ç¿’æ—¥æ™‚ï¼‰
â”‚   # æ—§ãƒ¢ãƒ‡ãƒ«åï¼ˆPhase 50.7å¾Œæ–¹äº’æ›æ€§ç¶­æŒï¼‰
â”‚   â”œâ”€â”€ production_ensemble_full.pkl  # â†’ ensemble_level1.pklï¼ˆéæ¨å¥¨ï¼‰
â”‚   â”œâ”€â”€ production_ensemble.pkl       # â†’ ensemble_level2.pklï¼ˆéæ¨å¥¨ï¼‰
â”‚   â””â”€â”€ production_ensemble_57.pkl    # â†’ ensemble_level3.pklï¼ˆéæ¨å¥¨ï¼‰
â”œâ”€â”€ training/                         # å­¦ç¿’ãƒ»æ¤œè¨¼ç”¨ãƒ¢ãƒ‡ãƒ«ï¼ˆ1.5MBï¼‰
â”‚   â”œâ”€â”€ lightgbm_model.pkl           # LightGBMå€‹åˆ¥ãƒ¢ãƒ‡ãƒ«ï¼ˆ40%é‡ã¿ï¼‰
â”‚   â”œâ”€â”€ xgboost_model.pkl            # XGBoostå€‹åˆ¥ãƒ¢ãƒ‡ãƒ«ï¼ˆ40%é‡ã¿ï¼‰
â”‚   â”œâ”€â”€ random_forest_model.pkl      # RandomForestå€‹åˆ¥ãƒ¢ãƒ‡ãƒ«ï¼ˆ20%é‡ã¿ï¼‰
â”‚   â””â”€â”€ training_metadata.json       # å­¦ç¿’çµæœãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆF1ã‚¹ã‚³ã‚¢ãƒ»ç²¾åº¦ï¼‰
â””â”€â”€ archive/                          # éå»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¿ç®¡ï¼ˆ24MBãƒ»æœ€æ–°5å€‹ä¿æŒï¼‰
    â”œâ”€â”€ production_ensemble_*.pkl    # ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”¨ï¼‰
    â””â”€â”€ production_model_metadata_*.json # ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
```

## ğŸ“‹ ä¸»è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å½¹å‰²ï¼ˆPhase 50.7å®Œäº†ç‰ˆï¼‰

### **Phase 50.7: 3ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚·ã‚¹ãƒ†ãƒ **
å¤–éƒ¨APIä¾å­˜åº¦ã«å¿œã˜ãŸ3æ®µéšã®ãƒ¢ãƒ‡ãƒ«ã‚’æä¾›ã—ã¾ã™ã€‚

#### **production/** (4.2MB)
æœ¬ç•ªç’°å¢ƒã§å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã‚‹æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ç®¡ç†ã—ã¾ã™ã€‚

**Phase 50.7æ–°æ©Ÿèƒ½: 3ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«**
- **ensemble_level1.pkl**: Level 1: 70ç‰¹å¾´é‡ï¼ˆå®Œå…¨+å¤–éƒ¨APIãƒ»1.5MBï¼‰
  - 62åŸºæœ¬ç‰¹å¾´é‡ + 8å¤–éƒ¨APIç‰¹å¾´é‡ï¼ˆUSD/JPYãƒ»æ—¥çµŒ225ãƒ»Fear & Greed Indexç­‰ï¼‰
  - **ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆç”¨æ¨å¥¨**: å¤–éƒ¨APIç‰¹å¾´é‡0åŸ‹ã‚ã§ç’°å¢ƒä¸€è‡´
  - æœ€é«˜æ€§èƒ½ãƒ»å¤–éƒ¨APIã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½æ™‚ã«ä½¿ç”¨

- **ensemble_level2.pkl**: Level 2: 62ç‰¹å¾´é‡ï¼ˆå®Œå…¨ãƒ»1.4MBï¼‰
  - 62åŸºæœ¬ç‰¹å¾´é‡ã®ã¿ï¼ˆå¤–éƒ¨APIç‰¹å¾´é‡é™¤å¤–ï¼‰
  - **æœ¬ç•ªç’°å¢ƒæ¨å¥¨**: å¤–éƒ¨APIéšœå®³æ™‚ã®å®‰å®šãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - å¤–éƒ¨APIã‚³ã‚¹ãƒˆå‰Šæ¸›ãƒ¢ãƒ¼ãƒ‰

- **ensemble_level3.pkl**: Level 3: 57ç‰¹å¾´é‡ï¼ˆåŸºæœ¬ãƒ»1.3MBï¼‰
  - 57åŸºæœ¬ç‰¹å¾´é‡ã®ã¿ï¼ˆå¤–éƒ¨API + æˆ¦ç•¥ä¿¡å·é™¤å¤–ï¼‰
  - **ç·Šæ€¥æ™‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯**: Level 1/2ä¸å¯æ™‚ã®æœ€çµ‚æ‰‹æ®µ
  - æœ€å°æ§‹æˆãƒ»ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„ç’°å¢ƒå¯¾å¿œ

**Graceful Degradationï¼ˆ4æ®µéšãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰**
```
Level 1ï¼ˆ70ç‰¹å¾´é‡ï¼‰ â†’ Level 2ï¼ˆ62ç‰¹å¾´é‡ï¼‰ â†’ Level 3ï¼ˆ57ç‰¹å¾´é‡ï¼‰ â†’ DummyModel
```

**å…±é€šæ©Ÿèƒ½**
- **production_model_metadata.json**: ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æŒ‡æ¨™ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ‡ãƒ¼ã‚¿ï¼ˆ2.7KBï¼‰
- å®Ÿéš›ã®å–å¼•åˆ¤æ–­ã§ä½¿ç”¨ã•ã‚Œã‚‹é«˜å“è³ªãªäºˆæ¸¬ã‚¨ãƒ³ã‚¸ãƒ³
- 3ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ï¼ˆLightGBM 40%ãƒ»XGBoost 40%ãƒ»RandomForest 20%ï¼‰
- é€±æ¬¡è‡ªå‹•å­¦ç¿’ï¼ˆæ¯é€±æ—¥æ›œ18:00 JSTï¼‰
- **å¾Œæ–¹äº’æ›æ€§**: æ—§ãƒ¢ãƒ‡ãƒ«åï¼ˆproduction_ensemble*.pklï¼‰è‡ªå‹•ãƒãƒƒãƒ”ãƒ³ã‚°

### **training/** (1.5MB)
å€‹åˆ¥ã®æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å­¦ç¿’ã¨æ¤œè¨¼ã‚’ç®¡ç†ã—ã¾ã™ã€‚
- **lightgbm_model.pkl**: é«˜é€Ÿã§è»½é‡ãªLightGBMãƒ¢ãƒ‡ãƒ«ï¼ˆ45KBï¼‰
- **xgboost_model.pkl**: é«˜ç²¾åº¦äºˆæ¸¬ã®XGBoostãƒ¢ãƒ‡ãƒ«ï¼ˆ371KBï¼‰
- **random_forest_model.pkl**: å®‰å®šæ€§é‡è¦–ã®RandomForestãƒ¢ãƒ‡ãƒ«ï¼ˆ1.0MBï¼‰
- **training_metadata.json**: å„ãƒ¢ãƒ‡ãƒ«ã®æ€§èƒ½æŒ‡æ¨™ã¨å­¦ç¿’æƒ…å ±ï¼ˆ2.5KBï¼‰
- æœ¬ç•ªç”¨ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ãƒ¢ãƒ‡ãƒ«ã®æ§‹æˆè¦ç´ ã‚’æä¾›

### **archive/** (24MBãƒ»æœ€æ–°5å€‹ä¿æŒ)
éå»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ãƒ¢ãƒ‡ãƒ«ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ä¿ç®¡ã—ã¾ã™ã€‚
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒ•ã‚¡ã‚¤ãƒ«åã§ã®å±¥æ­´ç®¡ç†
- ç·Šæ€¥æ™‚ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œï¼ˆæœ€æ–°5ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
- ãƒ¢ãƒ‡ãƒ«ã®é€²åŒ–å±¥æ­´ã¨æ€§èƒ½æ¯”è¼ƒåˆ†æ
- å®šæœŸçš„ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆå¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³å‰Šé™¤ï¼‰

## ğŸ“ ä½¿ç”¨æ–¹æ³•ãƒ»ä¾‹

### **Phase 50.7: 3ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«å­¦ç¿’**
```bash
# Phase 50.7: 3ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ï¼ˆå€‹åˆ¥å®Ÿè¡Œï¼‰
python3 scripts/ml/create_ml_models.py --level 1  # Level 1: 70ç‰¹å¾´é‡
python3 scripts/ml/create_ml_models.py --level 2  # Level 2: 62ç‰¹å¾´é‡
python3 scripts/ml/create_ml_models.py --level 3  # Level 3: 57ç‰¹å¾´é‡

# Phase 50.7: 3ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ä¸¦åˆ—å­¦ç¿’ï¼ˆæ¨å¥¨ãƒ»é«˜é€Ÿï¼‰
python3 scripts/ml/create_ml_models.py --level 1 --n-trials 50 --optimize > /tmp/level1.log 2>&1 &
python3 scripts/ml/create_ml_models.py --level 2 --n-trials 50 --optimize > /tmp/level2.log 2>&1 &
python3 scripts/ml/create_ml_models.py --level 3 --n-trials 50 --optimize > /tmp/level3.log 2>&1 &

# å­¦ç¿’çŠ¶æ³ç¢ºèª
tail -f /tmp/level1.log /tmp/level2.log /tmp/level3.log

# ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèªï¼ˆæ–°ãƒ¢ãƒ‡ãƒ«åï¼‰
ls -lh models/production/ensemble_level*.pkl

# å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆPhase 50.7å®Œäº†ç‰ˆï¼š1,097ãƒ†ã‚¹ãƒˆãƒ»66.72%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
bash scripts/testing/checks.sh

# è‡ªå‹•å­¦ç¿’ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çŠ¶æ³ç¢ºèªï¼ˆé€±æ¬¡è‡ªå‹•å­¦ç¿’ï¼‰
gh run list --workflow=model-training.yml --limit 5

# Phase 40ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–çµæœç¢ºèª
cat config/optimization/results/phase40_4_ml_hyperparameters.json | jq '.best_value'
```

### **ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆç’°å¢ƒå¯¾å¿œï¼ˆPhase 50.7ï¼‰**
```bash
# Level 1ãƒ¢ãƒ‡ãƒ«ä½¿ç”¨ã§ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆç’°å¢ƒä¸€è‡´ï¼‰
python3 main.py --mode backtest

# ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆãƒ­ã‚°ç¢ºèª
tail -f /tmp/phase50_7_backtest.log | grep -E "(Level|ç‰¹å¾´é‡|ãƒ¢ãƒ‡ãƒ«)"

# ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœ: Level 1ï¼ˆ70ç‰¹å¾´é‡ï¼‰ä½¿ç”¨ç¢ºèª
# â†’ å¤–éƒ¨APIç‰¹å¾´é‡0åŸ‹ã‚ã§æœ¬ç•ªç’°å¢ƒã¨å®Œå…¨ä¸€è‡´
```

### **æœ¬ç•ªãƒ¢ãƒ‡ãƒ«ã®ä½¿ç”¨**
```python
from src.ml.ensemble import ProductionEnsemble
from src.features.feature_manager import FeatureManager

# ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
feature_manager = FeatureManager()
model = ProductionEnsemble()

# å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ç‰¹å¾´é‡ç”Ÿæˆ
raw_market_data = get_market_data()
features = feature_manager.generate_features(raw_market_data)

# ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«äºˆæ¸¬å®Ÿè¡Œ
prediction = model.predict(features)
probabilities = model.predict_proba(features)

# ãƒ¢ãƒ‡ãƒ«æƒ…å ±ç¢ºèª
model_info = model.get_model_info()
print(f"ç‰¹å¾´é‡æ•°: {len(feature_manager.get_feature_names())}")  # 55ç‰¹å¾´é‡
print(f"ãƒ¢ãƒ‡ãƒ«æ§‹æˆ: {model_info['weights']}")  # LightGBM:0.4, XGBoost:0.4, RandomForest:0.2
```

### **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ»å±¥æ­´ç®¡ç†**
```bash
# ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å±¥æ­´ç¢ºèª
ls -la models/archive/

# ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¸ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
cp models/archive/production_ensemble_20250904_055752.pkl models/production/production_ensemble.pkl
cp models/archive/production_model_metadata_20250904_055752.json models/production/production_model_metadata.json

# ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–çŠ¶æ³ç¢ºèªï¼ˆæœ€æ–°5å€‹ä¿æŒï¼‰
ls -lh models/archive/production_ensemble_*.pkl | tail -5

# ãƒ¢ãƒ‡ãƒ«æ¤œè¨¼ï¼ˆPhase 49å®Œäº†ç‰ˆï¼‰
python3 scripts/ml/create_ml_models.py --verbose
```

### **å€‹åˆ¥ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æ¯”è¼ƒ**
```python
import json

# å­¦ç¿’çµæœãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç¢ºèª
with open('models/training/training_metadata.json', 'r') as f:
    training_data = json.load(f)

# æœ¬ç•ªãƒ¢ãƒ‡ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç¢ºèª
with open('models/production/production_model_metadata.json', 'r') as f:
    production_data = json.load(f)

print("=== å€‹åˆ¥ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æ¯”è¼ƒ ===")
for model_name, metrics in training_data['model_metrics'].items():
    print(f"{model_name}:")
    print(f"  F1ã‚¹ã‚³ã‚¢: {metrics['f1_score']:.3f}")
    print(f"  ç²¾åº¦: {metrics['accuracy']:.3f}")

print(f"\næœ¬ç•ªã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æ€§èƒ½:")
prod_metrics = production_data['performance_metrics']
print(f"  F1ã‚¹ã‚³ã‚¢: {prod_metrics['f1_score']:.3f}")
print(f"  ç²¾åº¦: {prod_metrics['accuracy']:.3f}")
```

## âš ï¸ æ³¨æ„äº‹é …ãƒ»åˆ¶ç´„ï¼ˆPhase 49å®Œäº†ç‰ˆï¼‰

### **ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†è¦ä»¶**
- **çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**: feature_managerã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆå¿…é ˆï¼ˆ55ç‰¹å¾´é‡å¯¾å¿œï¼‰
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: Gitæƒ…å ±ã¨ãƒ¢ãƒ‡ãƒ«ãƒãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹å³å¯†ãªè¿½è·¡
- **å“è³ªåŸºæº–**: F1ã‚¹ã‚³ã‚¢0.5ä»¥ä¸Šã®æ€§èƒ½ç¶­æŒï¼ˆPhase 49é”æˆï¼‰
- **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ç®¡ç†**: æœ€æ–°5ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¿æŒãƒ»å®šæœŸçš„ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### **ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„**
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿æ™‚ã«100-150MBä½¿ç”¨
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: åˆè¨ˆ3.6MBï¼ˆproduction 2.1MB + training 1.5MBï¼‰
- **å­¦ç¿’æ™‚é–“**: é€±æ¬¡è‡ªå‹•å­¦ç¿’ã¯45åˆ†ä»¥å†…ã§ã®å®Œäº†
- **è¨ˆç®—ãƒªã‚½ãƒ¼ã‚¹**: GCP 1Giãƒ»1CPUã®åˆ¶ç´„ä¸‹ã§ã®æœ€é©åŒ–

### **å“è³ªä¿è¨¼è¦ä»¶**
- **ç¶™ç¶šç›£è¦–**: å®šæœŸçš„ãªæ€§èƒ½è©•ä¾¡ã¨å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆ1,117ãƒ†ã‚¹ãƒˆãƒ»68.32%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
- **ãƒ†ã‚¹ãƒˆçµ±åˆ**: å˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆãƒ»å›å¸°ãƒ†ã‚¹ãƒˆã®å®Œå‚™
- **äº¤å·®æ¤œè¨¼**: TimeSeriesSplit n_splits=5ã«ã‚ˆã‚‹é‡‘èæ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ
- **Early Stopping**: rounds=20ã§éå­¦ç¿’é˜²æ­¢ãƒ»LightGBM/XGBoostå¯¾å¿œ
- **ã‚¯ãƒ©ã‚¹ä¸å‡è¡¡å¯¾å¿œ**: SMOTE + class_weight='balanced'
- **ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–**: Phase 40çµ±åˆï¼ˆ79ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è‡ªå‹•æœ€é©åŒ–ï¼‰
- **è‡ªå‹•åŒ–**: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã‚ˆã‚‹å“è³ªã‚²ãƒ¼ãƒˆãƒ»é€±æ¬¡è‡ªå‹•å­¦ç¿’

## ğŸ”— é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ä¾å­˜é–¢ä¿‚

### **æ©Ÿæ¢°å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ **
- `src/features/feature_manager.py`: ç‰¹å¾´é‡ç”Ÿæˆãƒ»ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- `src/ml/ensemble.py`: ProductionEnsembleå®Ÿè£…ã‚¯ãƒ©ã‚¹
- `scripts/ml/create_ml_models.py`: ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ»ä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### **ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ»CI/CD**
- `.github/workflows/`: é€±æ¬¡è‡ªå‹•å­¦ç¿’ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- `scripts/testing/checks.sh`: å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆPhase 49å®Œäº†ç‰ˆï¼š1,117ãƒ†ã‚¹ãƒˆãƒ»68.32%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
- `logs/`: ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ»é‹ç”¨ãƒ­ã‚°è¨˜éŒ²
- `config/optimization/`: Phase 40æœ€é©åŒ–çµæœç®¡ç†ï¼ˆ79ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰

### **è¨­å®šãƒ»å“è³ªä¿è¨¼**
- `config/core/unified.yaml`: çµ±ä¸€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ55ç‰¹å¾´é‡ãƒ»3ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«è¨­å®šï¼‰
- `config/core/thresholds.yaml`: æ€§èƒ½é–¾å€¤ãƒ»å“è³ªåŸºæº–è¨­å®šï¼ˆPhase 40æœ€é©åŒ–å¯¾å¿œï¼‰
- `config/core/feature_order.json`: 55ç‰¹å¾´é‡å®šç¾©ï¼ˆv2.5.0ãƒ»Strategy-Aware MLå¯¾å¿œï¼‰
- `tests/unit/ml/`: æ©Ÿæ¢°å­¦ç¿’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ

### **å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¾å­˜**
- **scikit-learn**: æ©Ÿæ¢°å­¦ç¿’ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«å­¦ç¿’
- **LightGBM, XGBoost**: å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **imbalanced-learn**: SMOTE oversamplingã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¹ä¸å‡è¡¡å¯¾å¿œ
- **optuna**: TPESamplerãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ï¼ˆPhase 40çµ±åˆï¼‰
- **pandas, numpy**: ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ»ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°
- **pickle, joblib**: ãƒ¢ãƒ‡ãƒ«ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ä¸¦åˆ—å‡¦ç†

### **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**ï¼ˆPhase 49å®Œäº†ç‰ˆï¼‰
1. **å­¦ç¿’**: training/ã§å€‹åˆ¥ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ï¼ˆ55ç‰¹å¾´é‡ãƒ»Phase 40æœ€é©åŒ–ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰
2. **çµ±åˆ**: production/ã§ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ï¼ˆLightGBM 40%ãƒ»XGBoost 40%ãƒ»RandomForest 20%ï¼‰
3. **ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–**: archive/ã§å±¥æ­´ç®¡ç†ï¼ˆæœ€æ–°5ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¿æŒï¼‰
4. **é‹ç”¨**: æœ¬ç•ªã‚·ã‚¹ãƒ†ãƒ ã§ã®äºˆæ¸¬å®Ÿè¡Œï¼ˆ24æ™‚é–“ç¨¼åƒãƒ»Cloud Runï¼‰
5. **è‡ªå‹•å­¦ç¿’**: é€±æ¬¡è‡ªå‹•å­¦ç¿’ï¼ˆæ¯é€±æ—¥æ›œ18:00 JSTãƒ»GitHub Actionsï¼‰

## ğŸ¯ Phase 49å®Œäº†ã¾ã¨ã‚

**æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **: 55ç‰¹å¾´é‡Strategy-Aware MLï¼ˆPhase 41.8å®Ÿè£…ï¼‰ãƒ»3ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ãƒ»Phase 40ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ï¼ˆ79ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ãƒ»é€±æ¬¡è‡ªå‹•å­¦ç¿’ãƒ»æœ€æ–°5ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ç®¡ç†ã«ã‚ˆã‚Šã€ä¼æ¥­ç´šå“è³ªã®AIäºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ ãŒ24æ™‚é–“å®‰å®šç¨¼åƒä¸­ ğŸš€