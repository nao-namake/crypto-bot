# requirements-dev.txt
# ====================================================================
# 開発・CI 用依存ライブラリ（テスト / Lint / フォーマッタ など）
# ====================================================================

# --- 重要：numpy 2.x互換性問題対策 ----------------------------------------
numpy>=1.24.0,<2.0     # pandas_ta, joblib, scikit-learn互換性確保
pandas>=1.5.0,<2.0     # numpy互換性確保

# --- 外部データフェッチャー依存関係 ----------------------------------
yfinance>=0.2.0        # VIX・Macroデータフェッチャー用

# --- テストフレームワーク --------------------------------------------------
pytest>=7.0.0
pytest-cov>=4.0.0

# 非同期テスト
pytest-asyncio>=0.20.0

# --- 静的解析・型チェック ---------------------------------------------------
flake8>=6.0.0
flake8-bugbear>=23.0.0
flake8-docstrings>=1.7.0
mypy>=1.4.0

# --- フォーマッタ & インポートソート ---------------------------------------
black>=24.3.0
isort==5.12.0      # ★ バージョンを固定（CI とローカル差異防止）

# ドキュメントスタイル(docstring チェック)
pydocstyle>=6.2.0

# Git Hooks 等の自動化
pre-commit>=3.4.0

# --- CI / カバレッジ --------------------------------------------------------
coverage>=7.0.0
codecov>=2.0.0

# --- 実行系ユーティリティ ---------------------------------------------------
websockets>=11.0.0       # リアルタイムストリーミング
tenacity>=8.2.0          # リトライ機構
httpx>=0.27.0            # FastAPI テストクライアント用
fastapi>=0.100.0         # API フレームワーク（テスト用）
uvicorn>=0.20.0          # ASGI サーバー（FastAPI 実行用）

# --- 取引所接続ライブラリ ---------------------------------------------------
ccxt>=2.10.0
pybit>=1.5.6

# dotenv (.env 自動読み込み)
python-dotenv>=1.0.0

# --- 機械学習／前処理 -------------------------------------------------------
scikit-learn>=1.2.0
optuna>=3.0.0
lightgbm>=4.0.0
xgboost>=1.7.0
pandas-ta>=0.3.14b0      # TA-Lib 代替

# --- コンテナ / 仮想環境 ----------------------------------------------------
tox>=4.8.0

# --- 開発補助 --------------------------------------------------------------
ipython>=8.0.0
ipdb>=0.13.0

# --- 監視 / モニタリング ----------------------------------------------------
google-cloud-monitoring>=2.18.0
google-cloud-storage>=2.10.0

# --- 可視化・プロット --------------------------------------------------------
matplotlib>=3.5.0