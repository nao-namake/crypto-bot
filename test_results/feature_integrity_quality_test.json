{
  "test_metadata": {
    "timestamp": 1753127012.5140748,
    "python_version": "3.11.11 (main, Jul 19 2025, 06:57:33) [Clang 17.0.0 (clang-1700.0.13.5)]",
    "test_phase": "B2.6.2"
  },
  "feature_integrity": {
    "complete_generation": {
      "total_features_generated": 145,
      "expected_features_count": 73,
      "target_151_achieved": false,
      "feature_coverage_percent": 91.78082191780823,
      "missing_features": [
        "open_interest",
        "funding_rate_ma",
        "funding_rate_change",
        "oi_trend",
        "funding_rate_zscore",
        "funding_trend"
      ],
      "extra_features": [
        "default_feature_34",
        "oi_momentum",
        "default_feature_43",
        "default_feature_38",
        "default_feature_32",
        "default_feature_52",
        "default_feature_11",
        "default_feature_3",
        "default_feature_44",
        "funding_rate_pct_change",
        "oi_trend_long",
        "funding_bullish_extreme",
        "funding_neutral",
        "default_feature_39",
        "oi_level",
        "default_feature_7",
        "default_feature_35",
        "volume_zscore_14",
        "funding_momentum",
        "oi_ma72",
        "volume_zscore_50",
        "default_feature_30",
        "default_feature_0",
        "default_feature_29",
        "default_feature_49",
        "oi_ma24",
        "default_feature_13",
        "default_feature_42",
        "default_feature_12",
        "default_feature_8",
        "default_feature_27",
        "default_feature_25",
        "funding_trend_up",
        "default_feature_46",
        "default_feature_51",
        "oi_trend_short",
        "default_feature_14",
        "default_feature_24",
        "default_feature_31",
        "funding_rate_ma8",
        "default_feature_18",
        "default_feature_22",
        "default_feature_5",
        "default_feature_28",
        "default_feature_50",
        "oi_volatility",
        "oi_spike_up",
        "funding_volatility",
        "default_feature_15",
        "default_feature_23",
        "oi_acceleration",
        "funding_bearish_extreme",
        "funding_rate_std8",
        "default_feature_9",
        "default_feature_17",
        "default_feature_20",
        "default_feature_40",
        "oi_spike_down",
        "default_feature_1",
        "default_feature_16",
        "default_feature_48",
        "default_feature_4",
        "default_feature_2",
        "funding_rate_ma24",
        "funding_reversal_signal",
        "default_feature_26",
        "default_feature_21",
        "default_feature_45",
        "default_feature_6",
        "funding_rate_abs",
        "default_feature_47",
        "default_feature_19",
        "default_feature_36",
        "default_feature_10",
        "oi_change_abs",
        "default_feature_41",
        "default_feature_37",
        "default_feature_33"
      ],
      "missing_count": 6,
      "extra_count": 78,
      "category_breakdown": {
        "technical_indicators": 22,
        "external_data": 57,
        "basic_statistics": 8,
        "other_features": 58
      },
      "success": false
    },
    "batch_vs_legacy": {
      "batch_features_count": 145,
      "legacy_features_count": 145,
      "common_features_count": 60,
      "batch_only_features": [
        "fg_greed",
        "oi_momentum",
        "rsi_7",
        "oi_change",
        "default_feature_52",
        "usdjpy_zscore",
        "fg_ma_30",
        "funding_rate_pct_change",
        "ema_10",
        "oi_trend_long",
        "funding_bullish_extreme",
        "macd_hist",
        "dxy_strength",
        "usdjpy_change",
        "funding_neutral",
        "rsi_14",
        "oi_level",
        "ema_26",
        "ema_12",
        "volume_zscore_14",
        "fg_extreme_fear",
        "funding_momentum",
        "oi_ma72",
        "sma_10",
        "risk_sentiment",
        "stoch_k",
        "usdjpy_strength",
        "volume_zscore_50",
        "macd",
        "fg_change_7d",
        "default_feature_49",
        "sma_100",
        "oi_ma24",
        "usdjpy_level",
        "ema_100",
        "treasury_10y_change",
        "usdjpy_trend",
        "sma_200",
        "treasury_10y_zscore",
        "funding_trend_up",
        "default_feature_46",
        "default_feature_51",
        "oi_trend_short",
        "ema_50",
        "fg_extreme_greed",
        "sma_20",
        "funding_rate_ma8",
        "fg_index",
        "fg_fear",
        "fg_momentum",
        "atr_14",
        "default_feature_50",
        "oi_volatility",
        "oi_spike_up",
        "funding_volatility",
        "rsi_21",
        "fg_reversal_signal",
        "oi_acceleration",
        "adx",
        "funding_bearish_extreme",
        "fg_volatility",
        "funding_rate_std8",
        "treasury_regime",
        "fg_neutral",
        "fg_ma_7",
        "oi_spike_down",
        "default_feature_48",
        "funding_rate_ma24",
        "vix_regime_numeric",
        "funding_reversal_signal",
        "dxy_level",
        "stoch_d",
        "sma_50",
        "treasury_10y_level",
        "yield_curve_spread",
        "fg_change_1d",
        "default_feature_45",
        "funding_rate_abs",
        "default_feature_47",
        "dxy_change",
        "macd_signal",
        "funding_rate",
        "usdjpy_volatility",
        "dxy_zscore",
        "oi_change_abs"
      ],
      "legacy_only_features": [
        "time_spread",
        "spread_proxy",
        "price_position_50",
        "liquidity_drought",
        "vol_regime_20",
        "autocorr_lag_10",
        "support_strength",
        "oi_new_high",
        "oi_zscore_7d",
        "fr_regime",
        "vol_ratio_short_long",
        "fr_zscore_30d",
        "price_volume_corr_50",
        "trend_regime",
        "rsi_relative_strength",
        "high_low_corr_20",
        "order_imbalance_proxy",
        "doji",
        "hl_spread_ma",
        "momentum_30",
        "trend_strength",
        "month_day_effect",
        "high_vol_regime",
        "momentum_14",
        "fr_extreme_short",
        "oi_change_1d",
        "volatility_relative_strength",
        "fr_volatility",
        "price_impact",
        "vwap_deviation",
        "position_bias",
        "price_breakout_up",
        "hl_spread",
        "bb_position",
        "fr_trend_strength",
        "vpt",
        "momentum_convergence",
        "intraday_position",
        "momentum_regime",
        "autocorr_lag_50",
        "amihud_illiquidity",
        "price_cycle",
        "fr_change_1d",
        "weekday_effect",
        "pinbar",
        "volume_cycle",
        "volume_breakout",
        "price_lag_corr",
        "momentum_relative_strength",
        "fr_change_3d",
        "fr_zscore_7d",
        "autocorr_lag_1",
        "price_breakout_down",
        "resistance_distance",
        "engulfing",
        "autocorr_lag_5",
        "short_long_strength",
        "vol_regime_10",
        "vol_regime_50",
        "momentum_1",
        "fr_extreme_long",
        "vol_percentile_20",
        "momentum_7",
        "rsi_cycle",
        "price_vs_sma20",
        "volatility_spread",
        "support_distance",
        "oi_new_low",
        "vol_percentile_10",
        "volume_strength",
        "price_position_20",
        "fr_rate",
        "volume_relative_strength",
        "price_volume_corr_20",
        "momentum_21",
        "oi_momentum_3d",
        "oi_normalized",
        "asia_session",
        "momentum_3",
        "oc_spread",
        "hour_effect",
        "price_volume_corr_10",
        "vol_percentile_50",
        "hammer",
        "autocorr_lag_20"
      ],
      "batch_only_count": 85,
      "legacy_only_count": 85,
      "average_correlation": NaN,
      "consistency_issues_count": 0,
      "consistency_issues": [],
      "high_consistency_features": 13,
      "success": "False"
    }
  },
  "error_handling": {
    "robustness": {
      "total_scenarios_tested": 4,
      "successful_scenarios": 4,
      "failed_scenarios": 0,
      "success_rate": 1.0,
      "scenarios_detail": [
        {
          "scenario": "empty_dataframe",
          "success": true,
          "error": null
        },
        {
          "scenario": "missing_close_column",
          "success": true,
          "error": null
        },
        {
          "scenario": "heavy_nan_data",
          "success": true,
          "error": null
        },
        {
          "scenario": "external_data_failure",
          "success": true,
          "error": null
        }
      ],
      "robustness_score": 1.0,
      "success": true
    }
  },
  "external_data_quality": {
    "integration_test": {
      "total_external_features": 60,
      "sources_tested": 4,
      "successful_sources": 4,
      "source_quality_detail": {
        "macro": {
          "features_count": 16,
          "avg_nan_rate": 0.0,
          "high_quality_features": 16,
          "poor_quality_features": 0,
          "quality_score": 1.0,
          "success": "True"
        },
        "vix": {
          "features_count": 6,
          "avg_nan_rate": 0.0,
          "high_quality_features": 6,
          "poor_quality_features": 0,
          "quality_score": 1.0,
          "success": "True"
        },
        "fear_greed": {
          "features_count": 13,
          "avg_nan_rate": 0.0,
          "high_quality_features": 13,
          "poor_quality_features": 0,
          "quality_score": 1.0,
          "success": "True"
        },
        "funding": {
          "features_count": 25,
          "avg_nan_rate": 0.0,
          "high_quality_features": 25,
          "poor_quality_features": 0,
          "quality_score": 1.0,
          "success": "True"
        }
      },
      "integration_stats": {
        "total_requests": 4,
        "successful_requests": 4,
        "success_rate": 1.0,
        "cache_hits": 0,
        "total_time_seconds": 0.8856451511383057,
        "avg_time_per_request_seconds": 0.22141128778457642,
        "efficiency_score": 1.0
      },
      "overall_quality_score": 1.0,
      "success": true
    }
  },
  "edge_case_handling": {
    "comprehensive_test": {
      "total_edge_cases_tested": 4,
      "successful_cases": 4,
      "failed_cases": 0,
      "success_rate": 1.0,
      "cases_detail": [
        {
          "case": "tiny_dataset_10_rows",
          "success": true,
          "features_generated": 145,
          "error": null
        },
        {
          "case": "extreme_volatility",
          "success": true,
          "features_generated": 145,
          "has_infinity": "False",
          "extreme_nan_rate": 0.0,
          "error": null
        },
        {
          "case": "flat_prices_no_volatility",
          "success": true,
          "features_generated": 145,
          "error": null
        },
        {
          "case": "mixed_data_types",
          "success": true,
          "features_generated": 145,
          "error": null
        }
      ],
      "avg_features_generated": 145.0,
      "robustness_score": 1.0,
      "success": true
    }
  },
  "overall_assessment": {
    "overall_score": 0.6000000000000001,
    "quality_level": "Acceptable",
    "category_scores": {
      "feature_integrity": 0.0,
      "error_handling": 1.0,
      "external_data_quality": 1.0,
      "edge_case_handling": 1.0
    },
    "total_tests_run": 5,
    "total_successful_tests": "3",
    "recommendation": "特徴量整合性の向上が必要; 重要な修正が必要 - 本番移行は要検討",
    "ready_for_production": "False"
  }
}