# config/validation/ - æ¤œè¨¼ç’°å¢ƒè¨­å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

**Phase 12å®Œäº†**: æœ¬ç•ªç§»è¡Œå‰æœ€çµ‚æ¤œè¨¼ãƒ»CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–ãƒ»è‡ªå‹•å“è³ªä¿è¨¼ãƒ»æ®µéšŽçš„ãƒ‡ãƒ—ãƒ­ã‚¤æº–å‚™å®Œäº†

## ðŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
validation/
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ phase9_validation.yaml       # æœ¬ç•ªç§»è¡Œå‰æ¤œè¨¼è¨­å®š
```

## ðŸŽ¯ æ¤œè¨¼ç’°å¢ƒã®ä½ç½®ã¥ã‘

**å®Ÿè³‡é‡‘**: Bitbankå£åº§ã®1ä¸‡å††ã‚’ä½¿ç”¨ã—ãŸæœ€çµ‚æ¤œè¨¼

```
Development (ãƒšãƒ¼ãƒ‘ãƒ¼) â†’ Validation (1ä¸‡å††å®Ÿè³‡é‡‘) â†’ Staging â†’ Production
        â†“                     â†“                    â†“         â†“
   CI/CDå“è³ªä¿è¨¼        Phase 12çµ±åˆç¢ºèª       æ®µéšŽçš„æ‹¡å¤§   æœ¬ç•ªé‹ç”¨
```

**Phase 12æ¤œè¨¼ç›®çš„**:
- 1ä¸‡å††ã®å®Ÿè³‡é‡‘ã§ã®å‹•ä½œç¢ºèª
- CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–çµ±åˆç¢ºèª
- 450ãƒ†ã‚¹ãƒˆå“è³ªä¿è¨¼ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèª
- dev_checkçµ±åˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ç¢ºèª
- æœ¬ç•ªç§»è¡Œå‰ã®æœ€çµ‚æ€§èƒ½æ¤œè¨¼
- ãƒªã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè¨¼
- APIãƒ»æ³¨æ–‡å®Ÿè¡Œã®å®Ÿç’°å¢ƒç¢ºèª

## ðŸ”§ phase9_validation.yaml - æ¤œè¨¼è¨­å®šè©³ç´°

**è³‡é‡‘å‰æ**: Bitbankå£åº§æ®‹é«˜ 10,000å††

### å®‰å…¨æ€§é‡è¦–ã®è¨­å®š
```yaml
# ãƒªã‚¹ã‚¯ç®¡ç†ï¼ˆ1ä¸‡å††å¯¾å¿œãƒ»æ¥µã‚ã¦ä¿å®ˆçš„ï¼‰
risk:
  risk_per_trade: 0.005         # 0.5%ï¼ˆ50å††ãƒªã‚¹ã‚¯ï¼‰
  kelly_max_fraction: 0.01      # 1%ï¼ˆ100å††ä¸Šé™ï¼‰
  max_drawdown: 0.10           # 10%ï¼ˆ1,000å††æå¤±ä¸Šé™ï¼‰
  consecutive_loss_limit: 3    # é€£ç¶š3æå¤±ã§åœæ­¢

# æ³¨æ–‡å®Ÿè¡Œï¼ˆæœ€å°å˜ä½ï¼‰
validation:
  min_order_size: 0.0001       # æœ€å°å–å¼•å˜ä½ï¼ˆç´„1,000å††ï¼‰
  max_order_size: 0.0003       # æœ€å¤§0.0003 BTCï¼ˆç´„3,000å††ï¼‰
  daily_trade_limit: 20        # 1æ—¥æœ€å¤§20å›ž
  max_daily_loss: 0.02         # 1æ—¥æœ€å¤§2%ï¼ˆ200å††ï¼‰æå¤±
  emergency_stop_loss: 0.05    # ç·Šæ€¥åœæ­¢5%ï¼ˆ500å††ï¼‰
```

### 1ä¸‡å††é‹ç”¨ã®ç¾å®Ÿçš„ç›®æ¨™
```yaml
targets:
  # æ¤œè¨¼æˆåŠŸæ¡ä»¶ï¼ˆ1ä¸‡å††ãƒ™ãƒ¼ã‚¹ï¼‰
  min_total_trades: 30         # æœ€ä½Ž30å–å¼•
  min_win_rate: 0.55          # å‹çŽ‡55%
  max_drawdown: 0.08          # ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³8%ä»¥å†…ï¼ˆ800å††ï¼‰
  min_profit_jpy: 500         # æœ€ä½Ž500å††åˆ©ç›Šï¼ˆ5%åŽç›Šï¼‰
  
  evaluation_period_days: 7    # 7æ—¥é–“æ¤œè¨¼
  min_trades_for_evaluation: 30 # æœ€ä½Ž30å–å¼•å¿…è¦
```

## ðŸ’° 1ä¸‡å††é‹ç”¨ã®åŽç›Šè©¦ç®—

### ç¾å®Ÿçš„ãªåŽç›Šäºˆæƒ³
- **1å–å¼•å¹³å‡åˆ©ç›Š**: 50-100å††
- **1æ—¥å–å¼•å›žæ•°**: 3-5å›ž
- **æ—¥æ¬¡åˆ©ç›Šç›®æ¨™**: 150-500å††
- **é€±é–“åˆ©ç›Šç›®æ¨™**: 1,000-3,500å††
- **æ¤œè¨¼æœŸé–“åˆ©ç›Š**: 500-2,000å††ï¼ˆ5-20%ï¼‰

### ãƒªã‚¹ã‚¯ç®¡ç†
- **æœ€å¤§æå¤±**: 1å–å¼•50å††ãƒ»1æ—¥200å††ãƒ»ç·Šæ€¥æ™‚500å††
- **è³‡ç”£ä¿è­·**: 8,000å††ã¯å¸¸ã«ä¿è­·ï¼ˆ80%ä¿å…¨ï¼‰
- **å–å¼•åœæ­¢**: é€£ç¶š3æå¤±ã¾ãŸã¯500å††æå¤±ã§è‡ªå‹•åœæ­¢

## ðŸš€ æ¤œè¨¼å®Ÿè¡Œæ‰‹é †

### Phase 9-2: 1ä¸‡å††å®Ÿè³‡é‡‘ãƒ†ã‚¹ãƒˆ

```bash
# 1. æ®‹é«˜ç¢ºèª
echo "Bitbankæ®‹é«˜ç¢ºèª: 10,000å††"

# 2. æ¤œè¨¼è¨­å®šç¢ºèª
python3 -c "
from src.core.config import Config
config = Config.load_from_file('config/validation/phase9_validation.yaml')
assert config.validate()
print('âœ… æ¤œè¨¼è¨­å®šOK')
print(f'ãƒªã‚¹ã‚¯/å–å¼•: {config.risk.risk_per_trade*100}%')
print(f'æœ€å¤§æ³¨æ–‡: {config.validation.max_order_size} BTC')
"

# 3. å®Ÿå–å¼•ãƒ†ã‚¹ãƒˆé–‹å§‹
python scripts/test_live_trading.py --mode single --config config/validation/phase9_validation.yaml

# 4. é€£ç¶šå–å¼•ãƒ†ã‚¹ãƒˆï¼ˆ4æ™‚é–“ï¼‰
python scripts/test_live_trading.py --mode continuous --duration 4 --config config/validation/phase9_validation.yaml
```

### 7æ—¥é–“æ¤œè¨¼ãƒ—ãƒ­ã‚»ã‚¹

**Day 1-2: æ…Žé‡é–‹å§‹**
```bash
# å˜ç™ºãƒ†ã‚¹ãƒˆï¼ˆ1æ—¥2-3å›žï¼‰
python scripts/test_live_trading.py --mode single --config config/validation/phase9_validation.yaml

# çµæžœç¢ºèª
echo "å–å¼•çµæžœç¢ºèª:"
echo "  å–å¼•å›žæ•°: Xå›ž"
echo "  å‹çŽ‡: XX%"
echo "  åŽç›Š: Â¥XXX"
echo "  æ®‹é«˜: Â¥X,XXX"
```

**Day 3-5: é€šå¸¸é‹ç”¨**
```bash
# é€£ç¶šå–å¼•ï¼ˆ1æ—¥4-6å›žï¼‰
python scripts/test_live_trading.py --mode continuous --duration 8 --config config/validation/phase9_validation.yaml
```

**Day 6-7: æœ€çµ‚è©•ä¾¡**
```bash
# æ‰‹å‹•å®Ÿè¡Œç›£è¦–ãƒ†ã‚¹ãƒˆ
python scripts/test_live_trading.py --mode monitoring --config config/validation/phase9_validation.yaml
```

## ðŸ“Š 1ä¸‡å††æ¤œè¨¼ã®è©•ä¾¡åŸºæº–

### æˆåŠŸæ¡ä»¶ï¼ˆ7æ—¥é–“ï¼‰
- âœ… **å®‰å…¨æ€§**: æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³800å††ä»¥å†…
- âœ… **åŽç›Šæ€§**: æœ€ä½Ž500å††åˆ©ç›Šï¼ˆ5%ä»¥ä¸Šï¼‰
- âœ… **å®‰å®šæ€§**: å‹çŽ‡55%ä»¥ä¸Šé”æˆ
- âœ… **ä¿¡é ¼æ€§**: é‡å¤§ã‚¨ãƒ©ãƒ¼ãƒ»ã‚·ã‚¹ãƒ†ãƒ åœæ­¢ãªã—
- âœ… **åŠ¹çŽ‡æ€§**: 30å–å¼•ä»¥ä¸Šå®Ÿè¡Œ

### 1ä¸‡å††é‹ç”¨ã®ç¾å®Ÿçš„ã‚·ãƒŠãƒªã‚ª

**ä¿å®ˆçš„ã‚·ãƒŠãƒªã‚ªï¼ˆæˆåŠŸçŽ‡80%ï¼‰**:
- 7æ—¥é–“å–å¼•: 25å›ž
- å‹çŽ‡: 56%
- å¹³å‡åˆ©ç›Š: 30å††/å–å¼•
- ç·åˆ©ç›Š: 750å††
- æœ€çµ‚æ®‹é«˜: 10,750å††

**æ¨™æº–ã‚·ãƒŠãƒªã‚ªï¼ˆæˆåŠŸçŽ‡60%ï¼‰**:
- 7æ—¥é–“å–å¼•: 35å›ž
- å‹çŽ‡: 60%
- å¹³å‡åˆ©ç›Š: 50å††/å–å¼•
- ç·åˆ©ç›Š: 1,750å††
- æœ€çµ‚æ®‹é«˜: 11,750å††

**ç©æ¥µçš„ã‚·ãƒŠãƒªã‚ªï¼ˆæˆåŠŸçŽ‡40%ï¼‰**:
- 7æ—¥é–“å–å¼•: 45å›ž
- å‹çŽ‡: 65%
- å¹³å‡åˆ©ç›Š: 70å††/å–å¼•
- ç·åˆ©ç›Š: 3,150å††
- æœ€çµ‚æ®‹é«˜: 13,150å††

## ðŸ” ç›£è¦–ãƒ»åˆ†æž

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
```bash
# æ®‹é«˜ãƒ»ãƒã‚¸ã‚·ãƒ§ãƒ³ç¢ºèª
curl "https://api.bitbank.cc/v1/user/assets" -H "ACCESS-KEY: ${BITBANK_API_KEY}"

# å–å¼•å±¥æ­´ç¢ºèª
python3 -c "
from src.data.bitbank_client import BitbankClient
client = BitbankClient()
trades = client.fetch_my_trades('BTC/JPY', limit=10)
for trade in trades:
    print(f'{trade[\"datetime\"]}: {trade[\"side\"]} {trade[\"amount\"]} BTC @ Â¥{trade[\"price\"]:,.0f}')
"
```

### æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ
```bash
# æ¤œè¨¼é€²æ—ç¢ºèª
echo "=== 1ä¸‡å††æ¤œè¨¼ Day X ãƒ¬ãƒãƒ¼ãƒˆ ==="
echo "é–‹å§‹æ®‹é«˜: Â¥10,000"
echo "ç¾åœ¨æ®‹é«˜: Â¥XX,XXX"
echo "åŽç›Š: Â¥XXX (XX.X%)"
echo "å–å¼•å›žæ•°: XXå›ž"
echo "å‹çŽ‡: XX.X%"
echo "æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³: Â¥XXX (X.X%)"
echo "ä»Šæ—¥ã®å–å¼•: Xå›ž"
echo "ä»Šæ—¥ã®åŽç›Š: Â¥XXX"
```

## ðŸš¨ 1ä¸‡å††é‹ç”¨ã®ãƒªã‚¹ã‚¯ç®¡ç†

### è‡ªå‹•åœæ­¢æ¡ä»¶
1. **ç´¯ç©æå¤±**: 500å††ï¼ˆ5%ï¼‰ã§ç·Šæ€¥åœæ­¢
2. **æ—¥æ¬¡æå¤±**: 200å††ï¼ˆ2%ï¼‰ã§å½“æ—¥å–å¼•åœæ­¢
3. **é€£ç¶šæå¤±**: 3å›žé€£ç¶šã§18æ™‚é–“åœæ­¢
4. **ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼**: é€£ç¶š3ã‚¨ãƒ©ãƒ¼ã§åœæ­¢

### æ‰‹å‹•ç›£è¦–ãƒã‚¤ãƒ³ãƒˆ
- **æ®‹é«˜ç¢ºèª**: å–å¼•å‰å¾Œã®æ®‹é«˜å¤‰å‹•
- **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ç›£è¦–**: 0.3%è¶…ã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã§å–å¼•è¦‹é€ã‚Š
- **ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ¼ç¢ºèª**: 2ç§’è¶…ã§ç•°å¸¸åˆ¤å®š
- **APIåˆ¶é™**: 30ç§’é–“éš”éµå®ˆ

## ðŸ“ˆ æ®µéšŽç§»è¡Œã®åˆ¤å®š

### æ¬¡æ®µéšŽç§»è¡Œæ¡ä»¶
```bash
# æ¤œè¨¼æˆåŠŸç¢ºèª
if [ å‹çŽ‡ >= 55% ] && [ åˆ©ç›Š >= 500å†† ] && [ ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³ <= 800å†† ]; then
    echo "âœ… æ¤œè¨¼æˆåŠŸ - staging 10%æ®µéšŽã«ç§»è¡Œå¯èƒ½"
else
    echo "âŒ æ¤œè¨¼ç¶™ç¶š - æ¡ä»¶æœªé”æˆ"
fi
```

### 1ä¸‡å††â†’æ®µéšŽçš„æ‹¡å¤§
- **æ¤œè¨¼æˆåŠŸ**: 10%æ®µéšŽï¼ˆstagingï¼‰ã¸ç§»è¡Œ
- **10%æˆåŠŸ**: å®Ÿè³‡é‡‘å¢—é¡ãƒ»50%æ®µéšŽ
- **50%æˆåŠŸ**: ãƒ•ãƒ«æœ¬ç•ªé‹ç”¨

## ðŸ’¡ 1ä¸‡å††é‹ç”¨ã®ã‚³ãƒ„

### åŠ¹çŽ‡çš„ãªå–å¼•
- **æœ€å°ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ™‚**: æ—©æœãƒ»æ·±å¤œã®æµå‹•æ€§é«˜ã„æ™‚é–“å¸¯
- **æŒ‡å€¤æ³¨æ–‡å„ªå…ˆ**: makeræ‰‹æ•°æ–™-0.02%æ´»ç”¨
- **å°é¡ç©ã¿é‡ã­**: 1å–å¼•50-100å††ã®ç¢ºå®Ÿãªåˆ©ç›Š

### ãƒªã‚¹ã‚¯æœ€å°åŒ–
- **1å›ž0.5%ãƒ«ãƒ¼ãƒ«**: 1å–å¼•æœ€å¤§50å††ãƒªã‚¹ã‚¯
- **æ„Ÿæƒ…æŽ’é™¤**: è‡ªå‹•åœæ­¢æ¡ä»¶ã®åŽ³å®ˆ
- **è¨˜éŒ²é‡è¦–**: å…¨å–å¼•ã®è©³ç´°è¨˜éŒ²ãƒ»åˆ†æž

---

**é‡è¦**: 1ä¸‡å††ã¨ã„ã†é™ã‚‰ã‚ŒãŸè³‡é‡‘ã§ã®æ¤œè¨¼ã¯ã€ãƒªã‚¹ã‚¯ç®¡ç†èƒ½åŠ›ã¨ã‚·ã‚¹ãƒ†ãƒ ã®ä¿¡é ¼æ€§ã‚’è¨¼æ˜Žã™ã‚‹é‡è¦ãªã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚å®‰å…¨æ€§ã‚’æœ€å„ªå…ˆã«é€²ã‚ã¦ãã ã•ã„ã€‚