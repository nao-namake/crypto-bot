# config/core/ - ã‚·ã‚¹ãƒ†ãƒ åŸºæœ¬è¨­å®š ğŸš€ Phase 22æœ€é©åŒ–å®Œäº†

## ğŸ¯ å½¹å‰²ãƒ»è²¬ä»»

ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã§ä½¿ç”¨ã™ã‚‹åŸºæœ¬è¨­å®šã‚’ç®¡ç†ã—ã¾ã™ã€‚å–å¼•æ‰€æ¥ç¶šã€æ©Ÿæ¢°å­¦ç¿’ã€æˆ¦ç•¥ã€ãƒªã‚¹ã‚¯ç®¡ç†ãªã©ã®æ ¸ã¨ãªã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‚’æä¾›ã—ã€å…¨ã‚·ã‚¹ãƒ†ãƒ ã§ä¸€è²«ã—ãŸå‹•ä½œã‚’ä¿è¨¼ã—ã¾ã™ã€‚ç‰¹ã«**feature_order.json**ã¯å…¨ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å¾´é‡å®šç¾©ã«ãŠã‘ã‚‹å˜ä¸€çœŸå®Ÿæºã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚

## ğŸ“ˆ çµ±ä¸€è¨­å®šç®¡ç†ä½“ç³»ç¢ºç«‹å®Œäº†ï¼ˆ2025å¹´9æœˆ18æ—¥ï¼‰

**ğŸ¯ Phase 22 + çµ±åˆè¨­å®šç®¡ç†æœ€é©åŒ–**: è¨­å®šä¸æ•´åˆå®Œå…¨è§£æ¶ˆãƒ»CI/CDçµ±ä¸€åŒ–

**âœ… å®Ÿç¾æˆæœ**:
- **çµ±ä¸€è¨­å®šç®¡ç†ä½“ç³»ç¢ºç«‹**: cloudbuild.yamlå‰Šé™¤ãƒ»gcp_config.yamlå®Ÿç’°å¢ƒåŒæœŸãƒ»CI/CDçµ±ä¸€
- **Secret Manageræœ€é©åŒ–**: :latestâ†’å…·ä½“çš„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆ:3,:5ï¼‰ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š
- **KellyåŸºæº–æœ€é©åŒ–**: min_trades 20â†’5ãƒ»åˆæœŸposition_size 0.0002 BTCãƒ»å®Ÿç”¨æ€§å¤§å¹…å‘ä¸Š
- **26ã‚­ãƒ¼é‡è¤‡å•é¡Œè§£æ±º**: unified.yamlâ†’thresholds.yamlç§»è¡Œã§æ€§èƒ½æœ€é©åŒ–å®Ÿç¾
- **unified.yaml**: 14.3KBâ†’3.9KBï¼ˆ**72.7%å‰Šæ¸›**ï¼‰ãƒ»æ§‹é€ æ•´ç†å®Œäº†
- **thresholds.yaml**: 376è¡Œâ†’147è¡Œãƒ»æœªä½¿ç”¨120ã‚­ãƒ¼å‰Šé™¤
- **ã‚·ã‚¹ãƒ†ãƒ æ•´åˆæ€§**: **625ãƒ†ã‚¹ãƒˆ100%æˆåŠŸ**ãƒ»CI/CDçµ±ä¸€å‹•ä½œç¢ºèªå®Œäº†
- **æ€§èƒ½å‘ä¸Š**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤å¼·åˆ¶ â†’ æœ€é©åŒ–è¨­å®šå€¤æ´»ç”¨ã§çœŸã®æ€§èƒ½ç™ºæ®

## ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
core/
â”œâ”€â”€ unified.yaml         # çµ±ä¸€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå…¨ç’°å¢ƒå¯¾å¿œï¼‰
â”œâ”€â”€ feature_order.json   # 15ç‰¹å¾´é‡çµ±ä¸€å®šç¾©ï¼ˆå˜ä¸€çœŸå®Ÿæºï¼‰
â”œâ”€â”€ thresholds.yaml      # å‹•çš„é–¾å€¤è¨­å®šï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å›é¿ãƒ»æˆ¦ç•¥æœ€é©åŒ–ï¼‰
â””â”€â”€ README.md            # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ“‹ å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²

### **unified.yaml** ğŸš€**Phase 22æœ€é©åŒ–å®Œäº†ï¼ˆ2025å¹´9æœˆ14æ—¥ï¼‰**
ã‚·ã‚¹ãƒ†ãƒ ã®åŸºæœ¬å‹•ä½œã‚’å®šç¾©ã™ã‚‹çµ±ä¸€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚Phase 22ã§**26ã‚­ãƒ¼é‡è¤‡å‰Šé™¤ãƒ»æ§‹é€ æ•´ç†**ã«ã‚ˆã‚Šå¤§å¹…ã«æœ€é©åŒ–ã•ã‚Œã¾ã—ãŸã€‚

**ğŸ“Š çµ±ä¸€è¨­å®šç®¡ç†ä½“ç³» + Phase 22æœ€é©åŒ–æˆæœ**:
- **CI/CDçµ±åˆ**: GitHub Actionsçµ±ä¸€ãƒ»cloudbuild.yamlå‰Šé™¤ãƒ»è¨­å®šä¸æ•´åˆå®Œå…¨è§£æ¶ˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: 14.3KBâ†’3.9KBï¼ˆ**72.7%å‰Šæ¸›**ï¼‰
- **é‡è¤‡è§£æ±º**: 26ã‚­ãƒ¼ã‚’thresholds.yamlã«ç§»è¡Œãƒ»è¨­å®šä¸€å…ƒåŒ–å®Ÿç¾
- **æ§‹é€ æ”¹å–„**: æ—¥æœ¬èªã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼è¿½åŠ ãƒ»å¯èª­æ€§å¤§å¹…å‘ä¸Š
- **å‹•ä½œç¢ºèª**: **625ãƒ†ã‚¹ãƒˆ100%æˆåŠŸ**ã§çµ±ä¸€è¨­å®šç®¡ç†å“è³ªä¿è¨¼

**ä¸»è¦è¨­å®šé …ç›®**:
- `mode`: å‹•ä½œãƒ¢ãƒ¼ãƒ‰ï¼ˆpaper/live/backtestï¼‰
- `exchange`: å–å¼•æ‰€è¨­å®šï¼ˆbitbankä¿¡ç”¨å–å¼•å°‚ç”¨ï¼‰
- `ml`: æ©Ÿæ¢°å­¦ç¿’è¨­å®šï¼ˆã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ãƒ¢ãƒ‡ãƒ«ã€ä¿¡é ¼åº¦é–¾å€¤35%ãƒ»å–å¼•æ©Ÿä¼šæ‹¡å¤§ï¼‰
- `data`: ãƒ‡ãƒ¼ã‚¿å–å¾—è¨­å®šï¼ˆãƒãƒ«ãƒã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ çµ±ä¸€ï¼‰
- `features`: 15ç‰¹å¾´é‡ç®¡ç†è¨­å®šï¼ˆ7ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ï¼‰
- `strategies`: 5æˆ¦ç•¥çµ±åˆè¨­å®šï¼ˆATRBasedãƒ»MochipoyAlertãƒ»MultiTimeframeãƒ»DonchianChannelãƒ»ADXTrendStrengthï¼‰
- `risk`: ãƒªã‚¹ã‚¯ç®¡ç†è¨­å®šï¼ˆKellyåŸºæº–ãƒ»å€‹äººé–‹ç™ºæœ€é©åŒ–ï¼‰
- `execution`: æ³¨æ–‡å®Ÿè¡Œè¨­å®š
- `production`: æœ¬ç•ªé‹ç”¨è¨­å®šï¼ˆMODE=liveæ™‚æœ‰åŠ¹ï¼‰
- `logging`: ãƒ­ã‚°è¨­å®šï¼ˆç’°å¢ƒåˆ¥å¯¾å¿œï¼‰
- `monitoring`: ç›£è¦–ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `cloud_run`: GCP Cloud Runæœ€é©åŒ–
- `security`: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
- `trading_constraints`: å–å¼•åˆ¶ç´„ãƒ»åˆ¶é™äº‹é …ï¼ˆå€‹äººé–‹ç™ºï¼‰
- `discord`: **Discordé€šçŸ¥è¨­å®šï¼ˆæœ€é©åŒ–å¼·åŒ–ç‰ˆãƒ»é€šçŸ¥è² è·è»½æ¸›å¯¾å¿œï¼‰** ğŸ†•
- `ensemble/reporting`: **Phase 22ã§æ•´ç†ãƒ»æœ€é©åŒ–ã•ã‚ŒãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³**

### **feature_order.json**  
**æ©Ÿæ¢°å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å¾´é‡å®šç¾©ã«ãŠã‘ã‚‹å˜ä¸€çœŸå®Ÿæº**ã§ã™ã€‚å…¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆGeneratorãƒ»Managerãƒ»MLãƒ»Backtestï¼‰ãŒã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã€ç‰¹å¾´é‡ã®çµ±ä¸€æ€§ã‚’ä¿è¨¼ã—ã¾ã™ã€‚

**ä¸»è¦å†…å®¹**:
- `total_features`: ç‰¹å¾´é‡ç·æ•°ï¼ˆ**15å€‹**ï¼‰
- `feature_order_version`: v2.2.0ï¼ˆçµ±åˆã‚·ã‚¹ãƒ†ãƒ å¯¾å¿œï¼‰
- `feature_categories`: 7ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã‚·ã‚¹ãƒ†ãƒ 
  - `basic`: åŸºæœ¬ä¾¡æ ¼ãƒ»å‡ºæ¥é«˜æƒ…å ±ï¼ˆ**2å€‹**ï¼‰- close, volume
  - `momentum`: ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ æŒ‡æ¨™ï¼ˆ**2å€‹**ï¼‰- rsi_14, macd
  - `volatility`: ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£æŒ‡æ¨™ï¼ˆ**2å€‹**ï¼‰- atr_14, bb_position
  - `trend`: ãƒˆãƒ¬ãƒ³ãƒ‰æŒ‡æ¨™ï¼ˆ**2å€‹**ï¼‰- ema_20, ema_50
  - `volume`: å‡ºæ¥é«˜æŒ‡æ¨™ï¼ˆ**1å€‹**ï¼‰- volume_ratio
  - `breakout`: ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆæŒ‡æ¨™ï¼ˆ**3å€‹**ï¼‰- donchian_high_20, donchian_low_20, channel_position
  - `regime`: å¸‚å ´ãƒ¬ã‚¸ãƒ¼ãƒ æŒ‡æ¨™ï¼ˆ**3å€‹**ï¼‰- adx_14, plus_di_14, minus_di_14
- `feature_definitions`: å„ç‰¹å¾´é‡ã®è©³ç´°å®šç¾©ï¼ˆå‹ãƒ»ç¯„å›²ãƒ»é‡è¦åº¦ï¼‰
- `reduction_history`: ç‰¹å¾´é‡æœ€é©åŒ–å±¥æ­´ï¼ˆ97â†’12â†’15å€‹ï¼‰

### **thresholds.yaml** ğŸš€**Phase 22æœ€é©åŒ–å®Œäº†ï¼ˆ2025å¹´9æœˆ14æ—¥ï¼‰**
**æˆ¦ç•¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å•é¡Œã‚’è§£æ±ºã™ã‚‹å‹•çš„é–¾å€¤è¨­å®šã‚·ã‚¹ãƒ†ãƒ **ã§ã™ã€‚Phase 22ã§**26ã‚­ãƒ¼é‡è¤‡å•é¡Œã‚’å®Œå…¨è§£æ±º**ã—ã€ã‚·ã‚¹ãƒ†ãƒ æ€§èƒ½ã‚’å¤§å¹…å‘ä¸Šã•ã›ã¾ã—ãŸã€‚

**ğŸ“Š Phase 22æœ€é©åŒ–æˆæœ**:
- **é‡è¤‡è§£æ±º**: unified.yamlå†…26ã‚­ãƒ¼ã‚’thresholds.yamlã«ç§»è¡Œãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤å¼·åˆ¶å•é¡Œã‚’å®Œå…¨è§£æ±º
- **ãƒ•ã‚¡ã‚¤ãƒ«æœ€é©åŒ–**: 376è¡Œâ†’147è¡Œï¼ˆ**60.9%å‰Šæ¸›**ï¼‰ãƒ»æœªä½¿ç”¨120ã‚­ãƒ¼å‰Šé™¤
- **æ€§èƒ½æ”¹å–„**: è¨­å®šå€¤ãŒå¸¸ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã ã£ãŸå•é¡Œã‚’è§£æ±ºãƒ»çœŸã®æ€§èƒ½æœ€é©åŒ–å®Ÿç¾
- **æ§‹é€ æ•´ç†**: ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†é¡ã«ã‚ˆã‚‹å¯èª­æ€§å‘ä¸Šãƒ»ç®¡ç†åŠ¹ç‡åŒ–

**ä¸»è¦å†…å®¹**:
- `strategies`: æˆ¦ç•¥åˆ¥æœ€é©åŒ–ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  - `atr_based`: BBé–¾å€¤70%/30%ãƒ»RSIé–¾å€¤65/35ãƒ»æœ€å°ä¿¡é ¼åº¦0.3ï¼ˆå–å¼•æ©Ÿä¼šæ‹¡å¤§ï¼‰ãƒ»**base_confidence/confidence_multiplierè¿½åŠ **
  - `donchian_channel`: ä¸­å¤®åŸŸ40-60%ãƒ»å¼±ã‚·ã‚°ãƒŠãƒ«ç¯„å›²ãƒ»å‹•çš„HOLDä¿¡é ¼åº¦
  - `adx_trend`: å¼±ãƒˆãƒ¬ãƒ³ãƒ‰15ãƒ»DIå·®åˆ†1.0ãƒ»ãƒ¬ãƒ³ã‚¸ç›¸å ´å¯¾å¿œ
- `ml`: å‹•çš„ä¿¡é ¼åº¦åŸºæº–ãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ãƒ»**model_pathsè¨­å®šçµ±åˆ**
- `trading`: ä¿¡é ¼åº¦éšå±¤è¨­å®šãƒ»ãƒªã‚¹ã‚¯é–¾å€¤ãƒ»**KellyåŸºæº–Silent Failureä¿®æ­£å®Œäº†ï¼ˆ2025/09/19ï¼‰**
  - `kelly_min_trades`: 5ï¼ˆ20â†’5ã«ç·©å’Œãƒ»å–å¼•é–‹å§‹ä¿ƒé€²ãƒ»å®Ÿç”¨æ€§å¤§å¹…å‘ä¸Šï¼‰
  - `initial_position_size`: 0.0001 BTCï¼ˆ**Silent Failureä¿®æ­£ãƒ»ç¢ºå®Ÿå®Ÿè¡Œä¿è¨¼**ï¼‰
  - `min_trade_size`: 0.0001 BTCï¼ˆ**Bitbankæœ€å°å–å¼•å˜ä½ãƒ»Silent Failureæ ¹æœ¬ä¿®æ­£**ï¼‰
  - `fallback_btc_jpy`: 16000000.0ï¼ˆä¾¡æ ¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»1BTC=1700ä¸‡å††å¯¾å¿œï¼‰
- `ensemble/models`: ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«è¨­å®šãƒ»å€‹åˆ¥ãƒ¢ãƒ‡ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆ**26ã‚­ãƒ¼ç§»è¡Œåˆ†å«ã‚€**ï¼‰
- `reporting/risk`: ãƒ¬ãƒãƒ¼ãƒˆè¨­å®šãƒ»ãƒªã‚¹ã‚¯ç®¡ç†ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

**åŠ¹æœ**: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤0.200 â†’ å¸‚å ´é©å¿œå‹0.25-0.6ãƒ»**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤å¼·åˆ¶å›é¿ã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ çœŸä¾¡ç™ºæ®**

**ä¸»è¦è¨­å®šé …ç›®**:
- `confidence_levels`: ä¿¡é ¼åº¦ãƒ¬ãƒ™ãƒ«åˆ¥é–¾å€¤
- `ml.dynamic_confidence`: å‹•çš„ä¿¡é ¼åº¦è¨­å®šï¼ˆçµ±åˆã‚·ã‚¹ãƒ†ãƒ å¯¾å¿œï¼‰
- `strategies`: 5æˆ¦ç•¥å„ç¨®è¨­å®šå€¤ãƒ»é‡ã¿ãƒ»é–¾å€¤
- `features`: 15ç‰¹å¾´é‡ç®¡ç†è¨­å®š
- `trading`: å–å¼•é–¢é€£è¨­å®š
- `execution`: å®Ÿè¡Œåˆ¶å¾¡è¨­å®š
- 8å€‹ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ç”¨è¨­å®šå€¤

## ğŸ“ ä½¿ç”¨æ–¹æ³•ãƒ»ä¾‹

### **åŸºæœ¬è¨­å®šã®èª­ã¿è¾¼ã¿**
```python
from src.core.config import load_config, get_threshold, get_ml_config, get_trading_config

# unified.yamlè¨­å®šèª­ã¿è¾¼ã¿
config = load_config('config/core/unified.yaml')

# åŸºæœ¬è¨­å®šå€¤å–å¾—
mode = config.mode  # paper/live/backtest
confidence = config.ml.confidence_threshold  # 0.65
leverage = config.exchange.leverage  # 1.0
strategies = config.strategies.enabled  # 5æˆ¦ç•¥ãƒªã‚¹ãƒˆ
```

### **ç‰¹å¾´é‡ç®¡ç†ï¼ˆ15ç‰¹å¾´é‡çµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ ï¼‰**
```python
from src.core.config.feature_manager import FeatureManager

# ç‰¹å¾´é‡ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
fm = FeatureManager()

# ç‰¹å¾´é‡æƒ…å ±å–å¾—
feature_names = fm.get_feature_names()          # 15ç‰¹å¾´é‡åä¸€è¦§
feature_count = fm.get_feature_count()          # 15
categories = fm.get_feature_categories()        # 7ã‚«ãƒ†ã‚´ãƒªåˆ†é¡

# ã‚«ãƒ†ã‚´ãƒªåˆ¥å–å¾—
basic_features = fm.get_category_features('basic')      # ['close', 'volume']
breakout_features = fm.get_category_features('breakout') # ['donchian_high_20', 'donchian_low_20', 'channel_position']

# æ•´åˆæ€§æ¤œè¨¼
features_valid = fm.validate_features(some_features)  # True/False
```

### **å‹•çš„è¨­å®šå€¤å–å¾—**
```python
from src.core.config import (
    get_threshold, get_ml_config, get_trading_config, 
    get_monitoring_config, get_position_config, 
    get_backtest_config, get_data_config, get_execution_config
)

# å„ç¨®è¨­å®šå€¤å–å¾—
confidence_threshold = get_ml_config('confidence_threshold', 0.65)
initial_balance = get_trading_config('default_balance_jpy', 10000.0)
discord_timeout = get_monitoring_config('discord.timeout_seconds', 30)
hold_confidence = get_threshold("strategies.atr_based.hold_confidence", 0.3)

# ğŸ†• Discordé€šçŸ¥æœ€é©åŒ–è¨­å®šå–å¾—
batch_enabled = get_monitoring_config('discord.batch_notifications', False)
batch_interval = get_monitoring_config('discord.batch_interval_minutes', 60)
rate_limit_max = get_monitoring_config('discord.rate_limit.max_per_hour', 12)
notification_level = get_monitoring_config('discord.notification_levels.warning', 'batch')
```

### **ğŸ†• Discordé€šçŸ¥æœ€é©åŒ–è¨­å®šã®æ´»ç”¨**
```python
from src.core.reporting.discord_notifier import EnhancedDiscordManager

# ãƒãƒƒãƒå‡¦ç†å¯¾å¿œDiscordç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæ¨å¥¨ï¼‰
manager = EnhancedDiscordManager()

# è¨­å®šã«åŸºã¥ãè‡ªå‹•é€šçŸ¥åˆ¶å¾¡
# - critical: å³æ™‚é€ä¿¡
# - warning: 1æ™‚é–“ãƒãƒƒãƒé›†ç´„
# - info: æ—¥æ¬¡ã‚µãƒãƒªãƒ¼
manager.send_simple_message("é‡è¦ãªæ®‹é«˜ç•°å¸¸", "critical")  # â†’ å³æ™‚é€ä¿¡
manager.send_simple_message("APIåˆ¶é™è­¦å‘Š", "warning")     # â†’ ãƒãƒƒãƒé›†ç´„
manager.send_simple_message("å–å¼•å®Œäº†", "info")          # â†’ æ—¥æ¬¡ã‚µãƒãƒªãƒ¼

# å®šæœŸçš„ãªãƒãƒƒãƒå‡¦ç†å®Ÿè¡Œ
manager.process_pending_notifications()
```

## âš ï¸ æ³¨æ„äº‹é …ãƒ»åˆ¶ç´„

### **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†æ™‚ã®æ³¨æ„** ğŸš¨**Phase 22æœ€é©åŒ–å¾Œ**
- **unified.yaml**: **Phase 22ã§72.7%æœ€é©åŒ–å®Œäº†** + **Discordé€šçŸ¥æœ€é©åŒ–å¼·åŒ–ç‰ˆ**ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ`mode: paper`ï¼ˆå®‰å…¨ï¼‰ãƒ»ä¿¡é ¼åº¦35%è¨­å®šç¶­æŒãƒ»ãƒãƒƒãƒå‡¦ç†å¯¾å¿œ
- **feature_order.json**: **å¤‰æ›´å³ç¦**ã€‚å…¨ã‚·ã‚¹ãƒ†ãƒ ã®å˜ä¸€çœŸå®Ÿæºã®ãŸã‚ã€å¤‰æ›´æ™‚ã¯å…¨ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å½±éŸ¿ã‚’è€ƒæ…®
- **thresholds.yaml**: **Phase 22ã§é‡è¤‡26ã‚­ãƒ¼çµ±åˆå®Œäº†**ãƒ»é–¾å€¤å¤‰æ›´ã¯å–å¼•é »åº¦ãƒ»ãƒªã‚¹ã‚¯ã«å¤§ããå½±éŸ¿ãƒ»**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤å¼·åˆ¶å•é¡Œè§£æ±ºæ¸ˆã¿**

### **ç‰¹å¾´é‡ç®¡ç†ã®é‡è¦åŸå‰‡**
- **å˜ä¸€çœŸå®Ÿæº**: `feature_order.json`ãŒå…¨ã‚·ã‚¹ãƒ†ãƒ ã®ç‰¹å¾´é‡å®šç¾©ã®å”¯ä¸€ã®åŸºæº–
- **15ç‰¹å¾´é‡çµ±ä¸€**: å…¨ã‚·ã‚¹ãƒ†ãƒ ï¼ˆGeneratorãƒ»Managerãƒ»MLãƒ»Backtestãƒ»Productionï¼‰ã§15ç‰¹å¾´é‡çµ±ä¸€
- **é †åºå³å®ˆ**: ç‰¹å¾´é‡é †åºå¤‰æ›´ã¯äºˆæ¸¬æ€§èƒ½ã«é‡å¤§ãªå½±éŸ¿ãƒ»MLãƒ¢ãƒ‡ãƒ«å†å­¦ç¿’å¿…è¦
- **ã‚«ãƒ†ã‚´ãƒªæ•´åˆæ€§**: 7ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹é€ ç¶­æŒ

### **è¨­å®šæ•´åˆæ€§ã®é‡è¦æ€§**
- **ç’°å¢ƒé–“çµ±ä¸€**: core/ã¨backtest/é–“ã§ã®ç‰¹å¾´é‡ãƒ»æˆ¦ç•¥è¨­å®šã®å®Œå…¨çµ±ä¸€ãƒ»**ä¿¡é ¼åº¦35%çµ±ä¸€è¨­å®š**
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³åŒæœŸ**: feature_order_versionçµ±ä¸€ã«ã‚ˆã‚‹äº’æ›æ€§ä¿è¨¼
- **é–¾å€¤çµ±åˆ**: thresholds.yamlä¸€å…ƒç®¡ç†ã«ã‚ˆã‚‹è¨­å®šå€¤ã®æ•´åˆæ€§ç¢ºä¿ãƒ»**æœˆ100-200å›å–å¼•å¯¾å¿œè¨­å®š**

## ğŸ”— é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ä¾å­˜é–¢ä¿‚

### **è¨­å®šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ é€£æº**
- `src/core/config.py`: è¨­å®šèª­ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ 
- `src/core/config/feature_manager.py`: 15ç‰¹å¾´é‡çµ±ä¸€ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- `src/core/config/threshold_manager.py`: é–¾å€¤ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### **å‚ç…§å…ƒã‚·ã‚¹ãƒ†ãƒ **
- `src/core/orchestration/orchestrator.py`: ã‚·ã‚¹ãƒ†ãƒ çµ±åˆåˆ¶å¾¡
- `src/features/feature_generator.py`: 15ç‰¹å¾´é‡ç”Ÿæˆï¼ˆå˜ä¸€çœŸå®Ÿæºå‚ç…§ï¼‰
- `src/strategies/`: 5æˆ¦ç•¥ã‚·ã‚¹ãƒ†ãƒ ï¼ˆbase/implementations/ï¼‰
- `src/ml/ensemble.py`: ProductionEnsembleï¼ˆ15ç‰¹å¾´é‡å¯¾å¿œï¼‰
- `main.py`: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ

### **ç’°å¢ƒåˆ¥è¨­å®šé€£æº**
- `config/backtest/feature_order.json`: ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆç”¨ï¼ˆ**å®Œå…¨åŒæœŸå¿…é ˆ**ï¼‰
- `config/backtest/base.yaml`: ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆè¨­å®šï¼ˆæœ¬ç•ªä¸€è‡´è¨­å®šï¼‰
- `models/production/`: MLãƒ¢ãƒ‡ãƒ«ï¼ˆ15ç‰¹å¾´é‡å¯¾å¿œï¼‰

---

**ğŸ¯ é‡è¦**: ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã®è¨­å®šã€ç‰¹ã«`feature_order.json`ã¯å…¨ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ã¨ãªã‚‹å˜ä¸€çœŸå®Ÿæºã§ã™ã€‚å¤‰æ›´æ™‚ã¯å…¨ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å½±éŸ¿ã‚’ååˆ†ã«æ¤œè¨ã—ã€ç‰¹ã«æœ¬ç•ªç’°å¢ƒã¨ã®æ•´åˆæ€§ã‚’æœ€å„ªå…ˆã«ä¿ã£ã¦ãã ã•ã„ã€‚