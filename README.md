Cryptoâ€‘Bot èª¬æ˜æ›¸ï¼ˆ2025â€‘06â€‘17 æ›´æ–°ç‰ˆï¼‰

æ¦‚è¦

æš—å·è³‡ç”£ã® è‡ªå‹•å£²è²·ãƒœãƒƒãƒˆ ã§ã™ã€‚
ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ã€ã‚¦ã‚©ãƒ¼ã‚¯ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã€Testnetï¼Live ç™ºæ³¨ã¾ã§ã‚’ãƒ¯ãƒ³ã‚¹ãƒˆãƒƒãƒ—ã§å®Ÿè¡Œã§ãã¾ã™ã€‚

A ä¸»ãªæ©Ÿèƒ½
	â€¢	ãƒ‡ãƒ¼ã‚¿å–å¾—â€ƒCCXT çµŒç”±ï¼ˆæ—¢å®šã¯ Bybit Testnetï¼‰
	â€¢	ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆâ€ƒã‚¹ãƒªãƒƒãƒšãƒ¼ã‚¸ãƒ»æ‰‹æ•°æ–™ãƒ»ATR ã‚¹ãƒˆãƒƒãƒ—ãƒ»æç›Šé›†è¨ˆ
	â€¢	æœ€é©åŒ–â€ƒãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æƒãï¼Optuna ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©æ¢ç´¢ã€ML ãƒ¢ãƒ‡ãƒ«å†å­¦ç¿’
	â€¢	ã‚¦ã‚©ãƒ¼ã‚¯ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰â€ƒCAGRãƒ»Sharpe ã‚’å¯è¦–åŒ–
	â€¢	ãƒªã‚¹ã‚¯ç®¡ç†â€ƒå‹•çš„ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚¸ãƒ³ã‚°ï¼ˆdynamic_position_sizingï¼‰
	â€¢	æ©Ÿæ¢°å­¦ç¿’â€ƒLightGBM / RandomForest / XGBoostã€è¿½åŠ ç‰¹å¾´é‡ï¼ˆvolume_zscore ãªã©ï¼‰
	â€¢	ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³â€ƒrun_pipeline.sh ã§ä¸€é€£å‡¦ç†ã‚’è‡ªå‹•åŒ–
	â€¢	CIâ€ƒGitHub Actionsï¼ˆlint / unit / integrationã€ã‚«ãƒãƒ¬ãƒƒã‚¸ 75% ä»¥ä¸Šï¼‰
	â€¢	ãƒãƒ«ãƒå–å¼•æ‰€å¯¾å¿œï¼ˆBybit, Bitbank, Bitflyer, OKCoinJPï¼šå„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé››å½¢å®Ÿè£…æ¸ˆï¼æœ¬æ ¼å¯¾å¿œã¯STEP16ä»¥é™ã§é †æ¬¡ï¼‰
	â€¢	ç›£è¦– / å¯è¦³æ¸¬æ€§â€ƒGCP Cloudâ€¯Monitoring ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‹ã‚«ã‚¹ã‚¿ãƒ æŒ‡æ¨™ï¼ˆPnL, trade_count, position_flagï¼‰ï¼‹ã‚¢ãƒ©ãƒ¼ãƒˆãƒãƒªã‚·ãƒ¼ï¼ˆãƒ¡ãƒ¼ãƒ« / SMS / LINE ãªã©ï¼‰
	â€¢	ãƒ©ã‚¤ãƒˆç´šç›£è¦– UIâ€ƒStreamlit ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆcrypto_bot/monitor.pyï¼‰â€• è‡ªå‹•ãƒ¡ãƒˆãƒªã‚¯ã‚¹ Push ä»˜ã

B å‹•ä½œè¦ä»¶
	â€¢	Python 3.11 ã€œ 3.12
	â€¢	Bybit Testnet API Key ã¨ Secret
	â€¢	å‹•ä½œç¢ºèªç’°å¢ƒâ€ƒLinux / macOS / WSL2
	â€¢	GCP ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆCloud Monitoring æœ‰åŠ¹åŒ–ï¼‰ã¨ Metric Writer æ¨©é™ä»˜ãã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

C ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
	1.	ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—
		git clone https://github.com/nao-namake/crypto-bot.git
		cd crypto-bot

	2.	ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆ
		python -m venv .venv
		source .venv/bin/activate

	3.	ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
		pip install -e .
		pip install -r requirements-dev.txt

	4.	GCP èªè¨¼ã‚­ãƒ¼ã‚’è¨­å®š  
		GOOGLE_APPLICATION_CREDENTIALS ç’°å¢ƒå¤‰æ•°ã« Metric Writer SA ã® JSON ã‚­ãƒ¼ã‚’æŒ‡å®š  
		```bash
		export GOOGLE_APPLICATION_CREDENTIALS=/path/to/key.json
		```

	5.	API ã‚­ãƒ¼ã‚’è¨­å®š
		cp .env.example .env
		# .env ã‚’é–‹ã„ã¦ BYBIT_TESTNET_API_KEY ã¨ SECRET ã‚’è¨˜å…¥
		# ä»–å–å¼•æ‰€ã‚’ä½¿ã†å ´åˆã¯ .env.example å‚ç…§

D è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆconfig/default.ymlï¼‰ã®ä¸»ãªé …ç›®
	â€¢	dataâ€ƒå–å¾—å–å¼•æ‰€ãƒ»ã‚·ãƒ³ãƒœãƒ«ãƒ»æœŸé–“ãªã©
	â€¢	strategyâ€ƒãƒ¢ãƒ‡ãƒ«ãƒ‘ã‚¹ã€é–¾å€¤ãƒªã‚¹ãƒˆ
	â€¢	riskâ€ƒãƒ™ãƒ¼ã‚¹ãƒªã‚¹ã‚¯ã€dynamic_position_sizing è¨­å®š
	â€¢	walk_forwardâ€ƒè¨“ç·´çª“ãƒ»ãƒ†ã‚¹ãƒˆçª“ãƒ»ã‚¹ãƒ©ã‚¤ãƒ‰å¹…
	â€¢	mlâ€ƒè¿½åŠ ç‰¹å¾´é‡ã€Optuna è¨­å®šã€ãƒ¢ãƒ‡ãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

E åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ä¾‹
	â€¢	ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
		python -m crypto_bot.main backtest --config config/default.yml
	â€¢	æœ€é©åŒ–ä»˜ããƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
		python -m crypto_bot.main optimize-backtest --config config/default.yml
	â€¢	æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
		python -m crypto_bot.main train --config config/default.yml
	â€¢   å­¦ç¿’ï¼‹Optuna æœ€é©åŒ–
		python -m crypto_bot.main optimize-and-train --config config/default.yml
	â€¢	Testnet çµ±åˆãƒ†ã‚¹ãƒˆ
		bash scripts/run_e2e.sh
	â€¢	ã‚³ãƒ¼ãƒ‰æ•´å½¢ã¨ãƒ†ã‚¹ãƒˆ
		bash scripts/checks.sh
	â€¢	ãƒ­ãƒ¼ã‚«ãƒ«ç›£è¦– UI  
		streamlit run crypto_bot/monitor.py

F. GitHub Actions & Docker ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
	1. GitHub Actions (CI/CD)
		â‘ `Secrets` ã«ä»¥ä¸‹ã‚’ç™»éŒ²
		- `BYBIT_TESTNET_API_KEY`
		- `BYBIT_TESTNET_API_SECRET`
		- `CODECOV_TOKEN` (Codecov ç”¨)
		- `CR_PAT` (GitHub Container Registry ç”¨)

		â‘¡`.github/workflows/ci.yml` ãŒä»¥ä¸‹ã®ã‚¸ãƒ§ãƒ–ã‚’è‡ªå‹•å®Ÿè¡Œ
		- **test**            : lint + unitâ€‘tests + coverage  
		- **integrationâ€‘tests**: Bybit E2E (Testnet)  
		- **docker-build**     : GHCR ã¸ã‚¤ãƒ¡ãƒ¼ã‚¸ push  
		- **terraform-deploy-dev**   : CloudÂ Run(dev) ã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤  
		- **terraform-deploy-paper** : CloudÂ Run(paper) ã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤  
		- **terraform-deploy-prod**  : CloudÂ Run(prod) ã¸è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤  

		åŠ ãˆã¦ `workflow_dispatch` ãƒˆãƒªã‚¬ã‚‚æœ‰åŠ¹åŒ–ã—ãŸã®ã§ã€`gh workflow run CI` ã‚³ãƒãƒ³ãƒ‰ã§æ‰‹å‹•å®Ÿè¡Œã§ãã¾ã™ã€‚
		- CloudÂ Run ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¯ **Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ã® SHA ã‚¿ã‚°ãŒå¤‰ã‚ã£ãŸã¨ãã®ã¿**æ›´æ–°ã•ã‚Œã¾ã™ï¼ˆTerraform ã§ã‚µãƒ¼ãƒ“ã‚¹å®šç¾©ã«å·®åˆ†ãŒç„¡ã„å ´åˆã¯ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¯ä½œæˆã•ã‚Œã¾ã›ã‚“ï¼‰ã€‚

**ğŸ” GCP èªè¨¼ã¯ WorkloadÂ Identity Federation ã‚’ä½¿ç”¨**  
GitHub OIDC ãƒˆãƒ¼ã‚¯ãƒ³ â†’ Workloadâ€‘Identity Pool / Provider â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ SA (githubâ€‘deployer@${PROJECT_ID}).  
IAM ãƒ­ãƒ¼ãƒ«ã¯ Terraform ã§ä¸€å…ƒç®¡ç†ã•ã‚Œã€CI ã‚¸ãƒ§ãƒ–å®Ÿè¡Œè€…ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã¯ä¸è¦ã§ã™ã€‚

	2. Docker ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
		â‘ ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
		bash scripts/build_docker.sh

		â‘¡è‡ªå‹•ãƒ—ãƒƒã‚·ãƒ¥
		ã‚¿ã‚°ä»˜ã‘ â†’ Actions ãŒãƒˆãƒªã‚¬ãƒ¼ã•ã‚Œã¾ã™
		```bash
		git tag vX.Y.Z
		git push origin vX.Y.Z
		```

	3. ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œç¢ºèª
		```bash
		docker pull ghcr.io/<ãƒ¦ãƒ¼ã‚¶ãƒ¼å>/crypto-bot:vX.Y.Z
		docker run --rm ghcr.io/<ãƒ¦ãƒ¼ã‚¶ãƒ¼å>/crypto-bot:vX.Y.Z --help
		```
	4. Infrastructure Deployment (Terraform)
		1. Terraform ã‚’ä½¿ã£ãŸã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰
			â€¢ Terraform ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼ˆhttps://www.terraform.io/downloads.htmlï¼‰
		2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•
			cd crypto-bot
		3. Terraform åˆæœŸåŒ–
			terraform init
		4. ã‚¤ãƒ³ãƒ•ãƒ©ãƒ—ãƒ©ãƒ³ã®ç¢ºèª
			terraform plan
		5. ã‚¤ãƒ³ãƒ•ãƒ©ã®é©ç”¨
			terraform apply
		6. ã‚¤ãƒ³ãƒ•ãƒ©ã®ç ´æ£„ï¼ˆä¸è¦ã«ãªã£ãŸå ´åˆï¼‰
			terraform destroy
		7. Terraform è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ infra/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚ã‚Šã¾ã™
			â€¢ AWS, GCP, Azure ãªã©ã®ã‚¯ãƒ©ã‚¦ãƒ‰ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†å¯èƒ½ã§ã™

	5. ãƒ†ã‚¹ãƒˆç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
		1. staging ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸
		2. Terraform Workspace ã‚’åˆ‡ã‚Šæ›¿ãˆï¼ˆä¾‹: terraform workspace select stagingï¼‰
		3. Terraform Apply ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆ/æ›´æ–°ï¼ˆterraform applyï¼‰
		4. ãƒ†ã‚¹ãƒˆç’°å¢ƒã® URL ã§å‹•ä½œç¢ºèª

	6. æœ¬ç•ªç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
		1. main ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸
		2. Terraform Workspace ã‚’åˆ‡ã‚Šæ›¿ãˆï¼ˆä¾‹: terraform workspace select productionï¼‰
		3. Terraform Apply ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆ/æ›´æ–°ï¼ˆterraform applyï¼‰
		4. æœ¬ç•ªç’°å¢ƒã® URL ã§æœ€çµ‚å‹•ä½œç¢ºèª

G. ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è‡ªå‹•å®Ÿè¡Œï¼ˆå­¦ç¿’ â†’ é–¾å€¤ã‚¹ã‚¤ãƒ¼ãƒ— â†’ ã‚­ãƒ£ãƒªãƒ– â†’ BT/WF â†’ å¯è¦–åŒ–ï¼‰
	1.	æœ€é©ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆ
		python -m crypto_bot.main optimize-and-train --config config/default.yml

	2.	ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å®Ÿè¡Œï¼ˆãƒ­ã‚°ã‚’ä¿å­˜ï¼‰
		caffeinate ./scripts/run_pipeline.sh 2>&1 | tee results/pipeline_log/pipeline_$(date +%Y%m%d_%H%M%S).log
		# ç”Ÿæˆç‰©ã¯ results/ ã¨ model/ ãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

H. å¯è¦–åŒ–ãƒ„ãƒ¼ãƒ«
	â€¢	tools/plot_performance.pyâ€ƒã‚¨ã‚¯ã‚¤ãƒ†ã‚£ã‚«ãƒ¼ãƒ–ãƒ»ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³
	â€¢	tools/plot_walk_forward.pyâ€ƒCAGR ã¨ Sharpe ã®æ¨ç§»ã‚°ãƒ©ãƒ•

I. ä¸»è¦ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆï¼ˆæŠœç²‹ï¼‰
	config/           è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (YAML)
	crypto_bot/
	â”œ data/          ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒ 
	â”œ backtest/      ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚¨ãƒ³ã‚¸ãƒ³
	â”œ execution/     å–å¼•æ‰€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
	â”œ strategy/      æˆ¦ç•¥ (MLStrategy ç­‰)
	â”œ ml/            å‰å‡¦ç†ãƒ»ãƒ¢ãƒ‡ãƒ«ãƒ»æœ€é©åŒ–
	â”” scripts/       walk_forward.py ã»ã‹
	scripts/          run_pipeline.sh, checks.sh ãªã©
	tests/            unit / integration ãƒ†ã‚¹ãƒˆ
	README.md         â† æœ¬æ›¸

R. æœ€è¿‘ã®å¤‰æ›´ç‚¹ï¼ˆ2025â€‘06â€‘17ï¼‰

	â€¢	**ã‚¤ãƒ³ãƒ•ãƒ©å†ç·¨**â€ƒ`infra/` ã‚’  
	  â”œâ”€ **modules/**ï¼ˆå†åˆ©ç”¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰  
	  â””â”€ **envs/**ï¼ˆdev / paper / prod ã® 3â€¯ç’°å¢ƒï¼‰  
	  ã«åˆ†å‰²ã€‚å„ç’°å¢ƒã¯ GCS ãƒã‚±ãƒƒãƒˆä¸Šã®å€‹åˆ¥ backend ã§ã‚¹ãƒ†ãƒ¼ãƒˆã‚’å®Œå…¨åˆ†é›¢ã€‚  
	â€¢	**WorkloadÂ IdentityÂ Federation**â€ƒGitHubÂ OIDC â†’ GCP ã¸ã®æ¨©é™å§”è­²ã‚’ Terraform ã§ç®¡ç†ã€‚  
	â€¢	**CI/CD æ‹¡å¼µ**â€ƒ`terraform-deployâ€‘paper`, `terraform-deployâ€‘prod` ã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ ã—ã€main ãƒ–ãƒ©ãƒ³ãƒ push â†’ devã€ã‚¿ã‚° push â†’ prod ã¾ã§å…¨è‡ªå‹•åŒ–ã€‚  
	â€¢	**ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰ç’°å¢ƒ**â€ƒCloudÂ Run ã‚µãƒ¼ãƒ“ã‚¹å `crypto-bot-paper`ã€`MODE=paper` å¤‰æ•°ã§æœ¬ç•ªã¨å®Œå…¨åˆ†é›¢ã€‚  
	â€¢	**å¤§å‹ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤**â€ƒ`infra/.terraform/**` ã«å«ã¾ã‚Œã‚‹ãƒã‚¤ãƒŠãƒªã‚’å±¥æ­´ã‹ã‚‰é™¤å»ã€‚æ‰‹é †ï¼š  
	  ```bash
	  pip install git-filter-repo
	  git filter-repo --path infra/.terraform --invert-paths --force
	  git remote add origin https://github.com/<user>/crypto-bot.git
	  git push --force origin main
	  ```  
	â€¢	**README æ•´ç†**â€ƒã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å«ã‚æœ€æ–°ãƒ•ãƒ­ãƒ¼ã‚’åæ˜ ã€‚
	â€¢ **CI/CD å®‰å®šåŒ–**â€ƒWIF å‘¨ã‚Šã® IAM ãƒ­ãƒ¼ãƒ«ã‚’æ•´ç†ã—ã€Terraform Apply ãŒ GitHub Actions ã‹ã‚‰é€šã‚‹ã“ã¨ã‚’ç¢ºèªã€‚  
	â€¢ **CloudÂ Run dev ãƒªãƒ“ã‚¸ãƒ§ãƒ³**â€ƒimage_tag æ›´æ–°æ™‚ã«è‡ªå‹•ã§æ–°ãƒªãƒ“ã‚¸ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼æ¸ˆã¿ã€‚  

J. ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³è¦ç´„
	1.	main ãƒ–ãƒ©ãƒ³ãƒã‚’ pull ã—ã¦æœ€æ–°åŒ–
	2.	feature/ãƒˆãƒ”ãƒƒã‚¯å ã§é–‹ç™º
	3.	bash scripts/checks.sh --fix ã§æ•´å½¢
	4.	Pull Request ä½œæˆ â†’ CI ãŒé€šã‚Œã°ãƒãƒ¼ã‚¸

K. Botã®é‹ç”¨ãƒ»æ‹¡å¼µæ‰‹é †ã¾ã¨ã‚
	â‘  æ©Ÿæ¢°å­¦ç¿’ã®ç‰¹å¾´é‡ï¼ˆãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ãªã©ï¼‰ã®è¿½åŠ ãƒ»å‰Šé™¤æ‰‹é †
		1.ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã®è¿½åŠ ï¼å‰Šé™¤ï¼ˆä¾‹: RSI, MACD, RCIç­‰ï¼‰
			â€¢crypto_bot/indicator/calculator.py ã«æŒ‡æ¨™é–¢æ•°ã‚’è¿½åŠ ã¾ãŸã¯ä¿®æ­£
			ä¾‹ï¼‰def rsi(...), def macd(...) ãªã©
			â€¢å¿…è¦ã§ã‚ã‚Œã° pandas-ta ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚å‚è€ƒã«ï¼ˆpandas-ta Docsï¼‰
		2.ç‰¹å¾´é‡ã¨ã—ã¦ä½¿ã†å ´åˆã¯
			â€¢crypto_bot/ml/preprocessor.py ã® FeatureEngineer ã‚¯ãƒ©ã‚¹ã®extra_features å‡¦ç†ã«è©²å½“æŒ‡æ¨™åï¼ˆä¾‹: "rsi_14" ãªã©ï¼‰ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
			â€¢configãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆconfig/default.ymlï¼‰ã®ml:â†’extra_features:ãƒªã‚¹ãƒˆã«è¿½åŠ /å‰Šé™¤
				ml:
				...
				extra_features:
					- rsi_14
					- macd
					- rci_9
					- volume_zscore
					# è¿½åŠ ãƒ»å‰Šé™¤ã—ãŸã„æŒ‡æ¨™åã‚’ã“ã“ã«æ›¸ã
		3.feature/strategy/æŒ‡æ¨™è¿½åŠ ã—ãŸã‚‰å¿…ãšã‚³ãƒ¼ãƒ‰æ•´å½¢ï¼†ãƒ†ã‚¹ãƒˆ
			bash scripts/checks.sh
		4.æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®å†å­¦ç¿’ãƒ»æœ€é©åŒ–ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’å†å®Ÿè¡Œ
			# ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è‡ªå‹•å®Ÿè¡Œã§ä¸€é€šã‚Šå­¦ç¿’ãƒ»æœ€é©åŒ–ãƒ»ã‚­ãƒ£ãƒªãƒ–ãƒ»å¯è¦–åŒ–ã¾ã§å…¨éƒ¨ã‚„ã‚‹
			./scripts/run_pipeline.sh
			â€¢ï¼ˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®é€”ä¸­çµŒéã‚„çµæœãƒ•ã‚¡ã‚¤ãƒ«ã¯ results/ ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‚ç…§ï¼‰
		5.çµæœã®ç¢ºèª
			â€¢ç”Ÿæˆã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ãƒ»ã‚°ãƒ©ãƒ•ï¼ˆresults/ãƒ»model/ï¼‰ã‚„ãƒ­ã‚°ã§æŒ‡æ¨™åæ˜ ãƒ»æˆç¸¾å¤‰åŒ–ã‚’ãƒã‚§ãƒƒã‚¯
	â‘¡ æ©Ÿæ¢°å­¦ç¿’ï¼ˆMLï¼‰ä»¥å¤–ã®æˆ¦ç•¥ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å ´åˆ
		1.æ–°ã—ã„æˆ¦ç•¥ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆ
			â€¢crypto_bot/strategy/ ã«ã€sample_strategy.py ã®ã‚ˆã†ãªæ–°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
			â€¢å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¨ã—ã¦StrategyBaseã‚’ç¶™æ‰¿ã™ã‚‹ã“ã¨
				class MyRuleStrategy(StrategyBase):
					def logic_signal(self, price_df, position):
					# ãƒ«ãƒ¼ãƒ«è¨˜è¿°
					...
		2.main.pyç­‰ã§ã€Œstrategy=MyRuleStrategyã€ã«åˆ‡ã‚Šæ›¿ãˆ
			â€¢config/default.yml ã® strategy:â†’name:ã‚„è©²å½“éƒ¨åˆ†ã‚’æ›¸ãæ›ãˆ
			â€¢å¿…è¦ã«å¿œã˜ã¦ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚„æœ€é©åŒ–ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã§è©²å½“ã‚¯ãƒ©ã‚¹ã‚’æŒ‡å®š
		3.æ–°æˆ¦ç•¥ã«åˆã‚ã›ãŸç‰¹å¾´é‡ã‚„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä¿®æ­£
			â€¢å¿…è¦ãªã‚‰ ml/preprocessor.py ãªã©ã‚‚ç·¨é›†
		4.checks.shâ†’run_pipeline.shã§å‹•ä½œç¢ºèª
	â‘¢ å–å¼•æ‰€ï¼ˆBybit/Bitbank/Bitflyerç­‰ï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹å ´åˆ
		1.configãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
			â€¢config/default.yml ã® data:â†’exchange ã‚’å¤‰æ›´ï¼ˆä¾‹ï¼šbybitâ†’bitbankï¼‰
		2.APIã‚­ãƒ¼/ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè¨­å®š
			â€¢.env ãƒ•ã‚¡ã‚¤ãƒ«ã®è©²å½“é …ç›®ã‚’æ–°å–å¼•æ‰€ã®APIã‚­ãƒ¼/ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã«æ›¸ãæ›ãˆã‚‹
		3.ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¯ãƒ©ã‚¹ã®å¯¾å¿œçŠ¶æ³ç¢ºèª
			â€¢crypto_bot/execution/factory.py ã«è©²å½“å–å¼•æ‰€ã®ã‚¯ãƒ©ã‚¹ãŒå®Ÿè£…æ¸ˆã¿ã‹ç¢ºèª
			â€¢ï¼ˆãªã‘ã‚Œã°æ–°è¦ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ï¼‰
		4.å¿…è¦ã§ã‚ã‚Œã°å€‹åˆ¥ä»•æ§˜ï¼ˆAPIãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç­‰ï¼‰ã®èª¿æ•´
		5.ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆç­‰ã§æ­£å¸¸å‹•ä½œã™ã‚‹ã‹ç¢ºèª
			python -m crypto_bot.main backtest --config config/default.yml
	â‘£ ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„CI/ãƒ†ã‚¹ãƒˆãƒ»åˆ†æç³»ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ™‚
		1.æ–°è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ æ™‚ã¯
			â€¢requirements.txt/requirements-dev.txt ã¸è¨˜è¼‰ï¼†pip install
		2.CI/CDç’°å¢ƒã‚„Lintãƒ«ãƒ¼ãƒ«ã‚’å¤‰ãˆã‚‹å ´åˆã¯
			â€¢.github/workflows/ä»¥ä¸‹ã‚„scripts/checks.shã‚’ç·¨é›†
	â‘¤ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•´ç†æ™‚ã«ã‚„ã‚‹ã“ã¨
		â€¢ä½¿ã‚ãªã„æˆ¦ç•¥ãƒ»å–å¼•æ‰€clientç­‰ã¯å‰Šé™¤ or ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§é€€é¿
		â€¢tools/é…ä¸‹ãŒè‚¥å¤§åŒ–ã—ãŸã‚‰ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª or README/tools.mdã§èª¬æ˜è¿½è¨˜
		â€¢ã€Œã“ã®æ©Ÿèƒ½ã¯ç¾çŠ¶ä¸è¦ã€ã¨ã„ã†ã‚‚ã®ã‚‚READMEã«æ˜è¨˜ã—ã€ã€Œå¿…è¦ãªã‚‰å¾©æ´»ã§ãã‚‹ã€ã‚ˆã†ã«ãƒ–ãƒ©ãƒ³ãƒã‚„ã‚¿ã‚°ã§ä¿ç®¡
	å‚è€ƒï¼šæ©Ÿèƒ½è¿½åŠ ãƒ»æˆ¦ç•¥åˆ‡æ›¿ãƒ»å–å¼•æ‰€åˆ‡æ›¿ãƒ•ãƒ­ãƒ¼å›³ï¼ˆæ¦‚ç•¥ï¼‰
		1.æŒ‡æ¨™è¿½åŠ ãƒ»å‰Šé™¤
		ã€€â†’ indicator/calculator.pyãƒ»ml/preprocessor.pyãƒ»config/default.ymlç·¨é›†
		ã€€â†’ checks.sh
		ã€€â†’ run_pipeline.sh
		ã€€â†’ results/ ã§ç¢ºèª
		2.æˆ¦ç•¥è¿½åŠ 
		ã€€â†’ strategy/ã«ã‚¯ãƒ©ã‚¹è¿½åŠ ãƒ»mainã§æŒ‡å®šãƒ»configä¿®æ­£
		ã€€â†’ checks.sh
		ã€€â†’ run_pipeline.sh
		3.å–å¼•æ‰€åˆ‡æ›¿
		ã€€â†’ configä¿®æ­£
		ã€€â†’ .envä¿®æ­£
		ã€€â†’ execution/factory.pyç¢ºèª

L. ã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰
	- Q: ãƒãƒ«ãƒå–å¼•æ‰€ã®å®Ÿé‹ç”¨ã¯ã©ã†ã™ã‚Œã°ï¼Ÿ**  
		â†’ é››å½¢ãƒ†ã‚¹ãƒˆãƒ».env.exampleã§APIç®¡ç†ã€å®Ÿé‹ç”¨ã¯æœ¬å½“ã«ä½¿ã†ã¨ãã®ã¿ï¼ˆSTEP16ã§æœ¬æ ¼å¯¾å¿œï¼‰
	- Q: ãƒ†ã‚¹ãƒˆã¯å…¨å–å¼•æ‰€ã§å¿…é ˆï¼Ÿ**  
		â†’ ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆã®ãªã„å–å¼•æ‰€ã¯é››å½¢ã¾ã§ã§OKã€‚APIä»•æ§˜å¤‰æ›´æ™‚ã®ã¿å®Ÿè£…ã™ã‚Œã°ã‚ˆã„ã§ã™
	- Q: è¤‡æ•°å–å¼•æ‰€ã®ä½µç”¨ãƒ»æ‹¡å¼µæ–¹æ³•ã¯ï¼Ÿ**  
		â†’ configã‚„.envã®ç·¨é›†ï¼‹factory.pyã®ã‚¯ãƒ©ã‚¹è¿½åŠ ï¼ä¿®æ­£

N. Dockerã§ã®å®Ÿè¡Œãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ã‚³ãƒãƒ³ãƒ‰ä¾‹
	1. Dockerç’°å¢ƒã®å‰æ
		â€¢Docker Desktopï¼ˆã¾ãŸã¯Docker CLIï¼‰ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ï¼ˆMac, Windows, Linuxå¯¾å¿œï¼‰
	2. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
		ã¾ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•ã—ã¦ã€ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
		bash scripts/build_docker.sh
		ï¼ˆã¾ãŸã¯ç›´æ¥ docker build -t crypto-bot:latest . ã§ã‚‚OKï¼‰
	3. .envãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™
		.env.exampleã‚’ã‚³ãƒ”ãƒ¼ã—ã€APIã‚­ãƒ¼ã‚„ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãªã©ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚
		cp .env.example .env
		# .env ã‚’é–‹ã„ã¦å¿…è¦ãªé …ç›®ï¼ˆBYBIT_TESTNET_API_KEYç­‰ï¼‰ã‚’è¨˜å…¥
	4. Dockerã‚³ãƒ³ãƒ†ãƒŠã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼ˆrun_docker.sh ã§ä¸€å…ƒç®¡ç†ï¼‰
		ã‚¹ã‚¯ãƒªãƒ—ãƒˆ scripts/run_docker.sh ã‚’ä½¿ã†ã“ã¨ã§ã€
		ã©ã‚“ãªã‚³ãƒãƒ³ãƒ‰ã‚‚åŒã˜æ–¹æ³•ã§å®Ÿè¡Œã§ãã¾ã™ã€‚
		â€¢	ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
			bash scripts/run_docker.sh backtest --config config/default.yml
		â€¢	ãƒ¢ãƒ‡ãƒ«æœ€é©åŒ–ï¼ˆOptunaï¼‰
			bash scripts/run_docker.sh optimize-and-train --config config/default.yml
		â€¢	ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
			bash scripts/run_docker.sh train --config config/default.yml
		â€¢	ã‚¦ã‚©ãƒ¼ã‚¯ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼
			bash scripts/run_docker.sh walk-forward --config config/default.yml
		â€¢	çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆBybit Testnet ãªã©ï¼‰
			bash scripts/run_docker.sh e2e-test
		ãƒã‚¤ãƒ³ãƒˆ
		â€¢	run_docker.shã¯ã©ã‚“ãªã‚³ãƒãƒ³ãƒ‰ã‚‚å¼•æ•°ã§æŒ‡å®šã§ãã‚‹æ±ç”¨ãƒ©ãƒƒãƒ‘ãƒ¼ã§ã™ã€‚
		â€¢	.envãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•ã§èª­ã¿è¾¼ã¾ã‚Œã¾ã™ï¼ˆAPIã‚­ãƒ¼ã‚’å«ã‚ç’°å¢ƒå¤‰æ•°ãŒå¿…è¦ãªæ™‚ã‚‚å®‰å¿ƒï¼‰ã€‚
	5. æ³¨æ„ãƒ»è£œè¶³
		â€¢	ç”¨é€”ã”ã¨ã®å°‚ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆrun_docker_backtest.shç­‰ï¼‰ã¯ä¸è¦ã§ã™ã€‚
			ã™ã¹ã¦ run_docker.sh ã§å®Œçµã§ãã¾ã™ã€‚
		â€¢	å¿…è¦ãªDockerã‚³ãƒãƒ³ãƒ‰ãƒ»æ‰‹é †ã¯READMEã«ã¾ã¨ã‚ã¦ã„ã‚‹ã®ã§ã€
			ä»Šå¾Œã¯ã“ã“ã‚’è¦‹ã‚Œã°é‹ç”¨ã‚„æ‹¡å¼µã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œãˆã¾ã™ã€‚

P. ç›£è¦– & ã‚¢ãƒ©ãƒ¼ãƒˆé‹ç”¨ãƒ¡ãƒ¢
	1.	ã‚«ã‚¹ã‚¿ãƒ æŒ‡æ¨™ Push  
		â€¢	monitor.py ãŒ status.json ã‚’èª­ã¿å–ã‚Šã€PnL ç­‰ã‚’ Cloud Monitoring ã¸é€ä¿¡  
		â€¢	ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã« roles/monitoring.metricWriter ã‚’ä»˜ä¸
	2.	Cloud Monitoring ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰  
		â€¢	custom.googleapis.com/crypto_bot/* ã‚·ãƒªãƒ¼ã‚ºã‚’ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã¸è¿½åŠ   
		â€¢	PnLï¼æŠ˜ã‚Œç·šã€å–å¼•å›æ•°ï¼ã‚¹ã‚³ã‚¢ã‚«ãƒ¼ãƒ‰ã€position_flagï¼ã‚²ãƒ¼ã‚¸ãŒæ¨å¥¨
	3.	ã‚¢ãƒ©ãƒ¼ãƒˆ ãƒãƒªã‚·ãƒ¼  
		â€¢	PnL ãŒ â€“5,000â€¯å†† æœªæº€ã§ 1â€¯æ™‚é–“æŒç¶š â†’ Bot åœæ­¢æ¤œè¨  
		â€¢	å–å¼•ãƒ¬ã‚¤ãƒ†ãƒ³ã‚· > 3â€¯s ãŒ 15â€¯åˆ†ç¶™ç¶š â†’ é«˜ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·é€šçŸ¥  
		â€¢	é€šçŸ¥å…ˆï¼šç¾åœ¨ã¯ãƒ¡ãƒ¼ãƒ«ã€LINE Webhook ã¯ãƒãƒ£ãƒãƒ«ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå–å¾—æ¸ˆã¿ãƒ»å¾Œæ—¥è¿½åŠ äºˆå®š

O. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ MIT License ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚