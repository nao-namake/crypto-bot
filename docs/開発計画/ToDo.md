# æš—å·è³‡ç”£å–å¼•Bot - é–‹ç™ºè¨ˆç”»

## ç¾åœ¨ã®çŠ¶æ…‹

**Phase 60å®Œäº†ãƒ»Phase 61é€²è¡Œä¸­** - æˆ¦ç•¥åˆ†æãƒ»æ”¹ä¿®

â€» å®Œäº†æ¸ˆã¿ã‚¿ã‚¹ã‚¯ã®è©³ç´°ã¯ `docs/é–‹ç™ºå±¥æ­´/` ã‚’å‚ç…§

---

## Phase 61: æˆ¦ç•¥åˆ†æãƒ»æ”¹ä¿®ï¼ˆé€²è¡Œä¸­ï¼‰

**ç›®çš„**: ãƒ¬ã‚¸ãƒ¼ãƒ åˆ¤å®šã®æœ€é©åŒ–ã¨ãƒˆãƒ¬ãƒ³ãƒ‰å‹æˆ¦ç•¥ã®æ´»æ€§åŒ–

### èƒŒæ™¯

Phase 60.7å®Œäº†æ™‚ç‚¹ã§ç·æç›ŠÂ¥86,639ï¼ˆPF 1.58ï¼‰ã‚’é”æˆã€‚ã—ã‹ã—ä»¥ä¸‹ã®èª²é¡ŒãŒåˆ¤æ˜ï¼š

| èª²é¡Œ | è©³ç´° | å½±éŸ¿ |
|------|------|------|
| **ADXTrendStrengthèµ¤å­—** | 7å–å¼•ã€å‹ç‡42.9%ã€Â¥-2,511æå¤± | å…¨ä½“PFã‚’ä½ä¸‹ |
| **MACDEMACrossoverç™ºå‹•0ä»¶** | 183æ—¥é–“ã§0å–å¼• | ãƒˆãƒ¬ãƒ³ãƒ‰å‹æˆ¦ç•¥ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„ |
| **ãƒ¬ã‚¸ãƒ¼ãƒ åã‚Š** | tight_range 88.2%ã€trending 0% | æˆ¦ç•¥å¤šæ§˜æ€§ãŒæ´»ã‹ã•ã‚Œã¦ã„ãªã„ |

**æ ¹æœ¬åŸå› **: `MarketRegimeClassifier`ã®ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰é–¾å€¤
- tight_range: BBå¹… < 3% AND ä¾¡æ ¼å¤‰å‹• < 2% â†’ ç·©ã™ãã¦88%ãŒã“ã“ã«å¸å
- trending: ADX > 25 AND EMAå‚¾ã > 1% â†’ å³ã—ã™ãã¦0ä»¶

### å®Ÿè£…è¨ˆç”»

| Phase | å†…å®¹ | çŠ¶æ…‹ |
|-------|------|------|
| 61.1 | ãƒ¬ã‚¸ãƒ¼ãƒ åˆ¤å®šé–¾å€¤èª¿æ•´ï¼ˆthresholds.yaml + MarketRegimeClassifierï¼‰ | ğŸ”„é€²è¡Œä¸­ |
| 61.2 | ADXTrendStrengthè©•ä¾¡ãƒ»å¯¾å¿œ | ğŸ“‹äºˆå®š |
| 61.3 | MACDEMACrossoverç™ºå‹•æ”¹å–„ | ğŸ“‹äºˆå®š |

---

### Phase 61.1: ãƒ¬ã‚¸ãƒ¼ãƒ åˆ¤å®šé–¾å€¤èª¿æ•´ï¼ˆæœ€å„ªå…ˆï¼‰

**ç›®æ¨™**: trendingç™ºç”Ÿç‡ 0% â†’ 5-15%ã€tight_range 88% â†’ 60-70%

#### Step 1: thresholds.yamlã«market_regimeã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 

```yaml
market_regime:
  tight_range:
    bb_width_threshold: 0.025      # 0.03â†’0.025ï¼ˆå³æ ¼åŒ–ï¼‰
    price_range_threshold: 0.015   # 0.02â†’0.015ï¼ˆå³æ ¼åŒ–ï¼‰
  trending:
    adx_threshold: 20              # 25â†’20ï¼ˆç·©å’Œï¼‰
    ema_slope_threshold: 0.007     # 0.01â†’0.007ï¼ˆç·©å’Œï¼‰
  normal_range:
    bb_width_threshold: 0.05
    adx_threshold: 20
  high_volatility:
    atr_ratio_threshold: 0.018
```

#### Step 2: MarketRegimeClassifierä¿®æ­£

ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰å€¤ â†’ `get_threshold()`ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿

#### å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `config/core/thresholds.yaml` | market_regimeã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ  |
| `src/core/services/market_regime_classifier.py` | get_threshold()èª­ã¿è¾¼ã¿å¯¾å¿œ |
| `tests/unit/services/test_market_regime_classifier.py` | ãƒ†ã‚¹ãƒˆæ›´æ–° |

---

### Phase 61.2: ADXTrendStrengthè©•ä¾¡ãƒ»å¯¾å¿œ

**åˆ¤æ–­ãƒ•ãƒ­ãƒ¼**:
1. 61.1å®Œäº†å¾Œã«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
2. ADXTrendStrengthå‹ç‡ã‚’ç¢ºèª
   - å‹ç‡ â‰¥ 50%: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¾®èª¿æ•´ã§ç¶™ç¶š
   - å‹ç‡ < 50%: å…¨ãƒ¬ã‚¸ãƒ¼ãƒ ã§é‡ã¿0.0ã«è¨­å®šï¼ˆç„¡åŠ¹åŒ–ï¼‰

---

### Phase 61.3: MACDEMACrossoverç™ºå‹•æ”¹å–„

**åˆ¤æ–­ãƒ•ãƒ­ãƒ¼**:
1. 61.1ã§trendingç™ºç”Ÿå¾Œã€è‡ªå‹•çš„ã«ç™ºå‹•æ©Ÿä¼šå¢—åŠ ã‚’ç¢ºèª
2. ã¾ã ç™ºå‹•ãŒå°‘ãªã„å ´åˆ:
   - `adx_trend_threshold`: 18â†’15ã«ç·©å’Œ
   - ã¾ãŸã¯`_is_trend_market()`ã«EMAä¹–é›¢æ¡ä»¶ã‚’è¿½åŠ 

---

### æ¤œè¨¼æ–¹æ³•

```bash
# ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
python3 main.py --mode backtest

# çµæœåˆ†æ
python3 scripts/backtest/standard_analysis.py --from-ci
```

### æˆåŠŸåŸºæº–

| Phase | æŒ‡æ¨™ | ç›®æ¨™å€¤ |
|-------|------|--------|
| 61.1 | trendingç™ºç”Ÿç‡ | â‰¥ 5% |
| 61.1 | tight_rangeç™ºç”Ÿç‡ | â‰¤ 70% |
| 61.2 | ADXTrendStrengthå‹ç‡ | â‰¥ 50% or ç„¡åŠ¹åŒ– |
| 61.3 | MACDEMACrossoverå–å¼•æ•° | â‰¥ 10ä»¶ |
| **å…¨ä½“** | **PF** | **â‰¥ 1.50ç¶­æŒ** |
| **å…¨ä½“** | **ç·æç›Š** | **â‰¥ Â¥80,000ç¶­æŒ** |

---

## å®Œäº†æ¸ˆã¿: Phase 60

**ç›®çš„**: ãƒªã‚¹ã‚¯ãƒ»ãƒªã‚¿ãƒ¼ãƒ³æœ€é©åŒ–ã¨ç¨¼åƒç‡æ”¹å–„

| Phase | å†…å®¹ | æˆæœ |
|-------|------|------|
| 60.1 | å®ŸåŠ¹ãƒ¬ãƒãƒ¬ãƒƒã‚¸0.5å€ç§»è¡Œ | 14ç®‡æ‰€è¨­å®šå¤‰æ›´ãƒ»å¹´åˆ©75%ç›®æ¨™ |
| 60.2 | ç¨¼åƒç‡è¨ˆç®—ä¿®æ­£ | 7åˆ†é–“éš”å¯¾å¿œãƒ»ç¨¼åƒç‡100%è¡¨ç¤º |
| 60.3 | Walk-Forwardæ¤œè¨¼å®Ÿè£… | éå­¦ç¿’æ’é™¤ãƒ»ä¿¡é ¼æ€§å‘ä¸Š |
| 60.4 | MLé‡ã¿å‰Šæ¸›ãƒ»æˆ¦ç•¥é‡è¦–è¨­å®š | ä¸€è‡´ç‡å‘ä¸Šãƒ»ä¸ä¸€è‡´ãƒšãƒŠãƒ«ãƒ†ã‚£å¼·åŒ– |
| 60.5 | MLãƒ¢ãƒ‡ãƒ«å·®åˆ¥åŒ– | ã‚·ãƒ¼ãƒ‰å·®åˆ¥åŒ–ãƒ»ç‰¹å¾´é‡ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ãƒ»å‹•çš„é‡ã¿è¨ˆç®— |
| 60.6 | Walk-Forwardå•é¡Œä¿®æ­£ | ãƒ¬ã‚¸ãƒ¼ãƒ åˆ†å¸ƒãƒã‚°ä¿®æ­£ãƒ»ç¨¼åƒç‡æ”¹å–„ |
| **60.7** | **Â¥86,639ãƒ»PF 1.58é”æˆ** | **Phase 60æœ€çµ‚çµæœ** |

---

## ä¿ç•™ã‚¿ã‚¹ã‚¯

| ã‚¿ã‚¹ã‚¯ | å„ªå…ˆåº¦ | å‚™è€ƒ |
|--------|--------|------|
| CatBoostè¿½åŠ  | ä½ | 4ãƒ¢ãƒ‡ãƒ«ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«åŒ– |
| SLæŒ‡å€¤éç´„å®šæ™‚ã®æˆè¡Œãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ | ä¸­ | æ€¥è½æ™‚ãƒªã‚¹ã‚¯å¯¾ç­– |
| å®ŸåŠ¹ãƒ¬ãƒãƒ¬ãƒƒã‚¸1.0å€ç§»è¡Œ | ä¸­ | 61å®Œäº†å¾Œãƒ»çµæœè‰¯å¥½ãªå ´åˆ |
| ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ•´ç† | ä½ | Phase 62å€™è£œ |

---

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| `docs/é–‹ç™ºå±¥æ­´/Phase_60.md` | Phase 60é–‹ç™ºè¨˜éŒ² |
| `docs/é–‹ç™ºå±¥æ­´/Phase_61.md` | Phase 61é–‹ç™ºè¨˜éŒ²ï¼ˆä½œæˆäºˆå®šï¼‰ |
| `docs/é–‹ç™ºå±¥æ­´/SUMMARY.md` | å…¨Phaseç·æ‹¬ |
| `config/core/thresholds.yaml` | æˆ¦ç•¥é‡ã¿ãƒ»ãƒ¬ã‚¸ãƒ¼ãƒ è¨­å®š |

---

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ24æ—¥ - Phase 61.1é€²è¡Œä¸­
