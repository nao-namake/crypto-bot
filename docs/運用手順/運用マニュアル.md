# é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ« - crypto-botã‚·ã‚¹ãƒ†ãƒ 

## ğŸ“‹ æ¦‚è¦

**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ8æ—¥  
**é‹ç”¨ç’°å¢ƒ**: GCP Cloud Run 24æ™‚é–“ç¨¼åƒãƒ»654ãƒ†ã‚¹ãƒˆ100%ãƒ»59.24%ã‚«ãƒãƒ¬ãƒƒã‚¸  
**å¯¾è±¡è€…**: ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨è€…ãƒ»é–‹ç™ºè€…ãƒ»ç·Šæ€¥æ™‚å¯¾å¿œæ‹…å½“è€…

ã“ã®ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã¯ã€crypto-botã®æ—¥å¸¸é‹ç”¨ãƒ»ç›£è¦–ãƒ»ç·Šæ€¥æ™‚å¯¾å¿œã®æ‰‹é †ã‚’å®šç¾©ã—ã¾ã™ã€‚

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ:
â”œâ”€â”€ src/features/           # ç‰¹å¾´é‡çµ±ä¸€ç®¡ç†ï¼ˆfeature_manager.pyãƒ»12ç‰¹å¾´é‡ï¼‰
â”œâ”€â”€ src/strategies/         # å–å¼•æˆ¦ç•¥ï¼ˆ4æˆ¦ç•¥çµ±åˆï¼‰  
â”œâ”€â”€ src/ml/                 # MLOpsåŸºç›¤ï¼ˆProductionEnsembleãƒ»é€±æ¬¡è‡ªå‹•å†å­¦ç¿’ï¼‰
â”œâ”€â”€ src/core/               # åŸºç›¤ã‚·ã‚¹ãƒ†ãƒ ï¼ˆorchestrationãƒ»çµ±åˆåˆ¶å¾¡ï¼‰
â”œâ”€â”€ src/data/               # ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆBitbank APIãƒ»ãƒãƒ«ãƒã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰
â”œâ”€â”€ src/trading/            # å–å¼•å®Ÿè¡Œï¼ˆKellyåŸºæº–ãƒ»ãƒªã‚¹ã‚¯ç®¡ç†ï¼‰
â””â”€â”€ src/monitoring/         # ç›£è¦–ï¼ˆDiscordé€šçŸ¥ãƒ»3éšå±¤ã‚¢ãƒ©ãƒ¼ãƒˆï¼‰

CI/CDãƒ»å“è³ªä¿è¨¼:
â”œâ”€â”€ scripts/testing/checks.sh      # çµ±ä¸€å“è³ªã‚²ãƒ¼ãƒˆï¼ˆ654ãƒ†ã‚¹ãƒˆãƒ»30ç§’å®Ÿè¡Œï¼‰
â”œâ”€â”€ scripts/testing/dev_check.py # ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­ãƒ»MLOpsç®¡ç†
â””â”€â”€ .github/workflows/              # è‡ªå‹•CI/CDãƒ»é€±æ¬¡å†å­¦ç¿’
```

### ä¸»è¦æ©Ÿèƒ½
- âœ… **ç‰¹å¾´é‡çµ±ä¸€ç®¡ç†**: feature_manager.py ã«ã‚ˆã‚‹12ç‰¹å¾´é‡ä¸€å…ƒåŒ–
- âœ… **MLOpsåŸºç›¤**: é€±æ¬¡è‡ªå‹•å†å­¦ç¿’ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ»Gitçµ±åˆ
- âœ… **å“è³ªä¿è¨¼**: 654ãƒ†ã‚¹ãƒˆ100%ãƒ»59.24%ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ»çµ±ä¸€å“è³ªã‚²ãƒ¼ãƒˆ
- âœ… **æœ¬ç•ªç¨¼åƒ**: Cloud Run 24æ™‚é–“ç¨¼åƒãƒ»Discordç›£è¦–ãƒ»è‡ªå‹•å–å¼•ç¶™ç¶š

---

## ğŸ”§ æ—¥å¸¸é‹ç”¨æ‰‹é †

### 1. ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèªï¼ˆæ¯æ—¥æ¨å¥¨ï¼‰

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ç§»å‹•
cd /Users/nao/Desktop/bot

# çµ±ä¸€å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆ30ç§’ã§å®Œäº†ï¼‰
bash scripts/testing/checks.sh

# ã‚·ã‚¹ãƒ†ãƒ ç·åˆè¨ºæ–­
python3 scripts/testing/dev_check.py full-check

# æœ¬ç•ªç’°å¢ƒç¨¼åƒç¢ºèª
gcloud run services describe crypto-bot-service-prod --region=asia-northeast1
```

**æœŸå¾…çµæœ**:
- âœ… 654ãƒ†ã‚¹ãƒˆ100%æˆåŠŸãƒ»59.24%ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆ
- âœ… feature_manager.py 12ç‰¹å¾´é‡çµ±ä¸€ç®¡ç†æ­£å¸¸
- âœ… ProductionEnsembleãƒ»MLOpsåŸºç›¤æ­£å¸¸ç¨¼åƒ
- âœ… Cloud Run 24æ™‚é–“ç¨¼åƒãƒ»Discordç›£è¦–æ­£å¸¸

### 2. MLOpsã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ï¼ˆé€±1å›ï¼‰

```bash
# MLãƒ¢ãƒ‡ãƒ«çŠ¶æ…‹ç¢ºèª
python3 scripts/testing/dev_check.py ml-models --dry-run

# é€±æ¬¡è‡ªå‹•å†å­¦ç¿’çŠ¶æ³ç¢ºèª
gh run list --workflow=model-training.yml --limit 5

# ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æ¤œè¨¼
python3 -c "
from src.ml.ensemble import ProductionEnsemble
model = ProductionEnsemble()
print(f'âœ… MLãƒ¢ãƒ‡ãƒ«æ­£å¸¸: {model.is_fitted}')
"
```

### 3. ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª

```bash
# Discordé€šçŸ¥å±¥æ­´ç¢ºèª
python3 scripts/management/ops_monitor.py --phase phase2

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèªï¼ˆéå»24æ™‚é–“ï¼‰
gcloud logging read 'resource.type="cloud_run_revision" AND severity>=WARNING' --limit=10

# ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª
python3 scripts/analytics/performance_analyzer.py --period 24h
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ»CI/CD

### è‡ªå‹•CI/CDãƒ•ãƒ­ãƒ¼ï¼ˆGitHub Actionsï¼‰

```bash
# ãƒ­ãƒ¼ã‚«ãƒ«å“è³ªãƒã‚§ãƒƒã‚¯
bash scripts/testing/checks.sh

# ã‚³ãƒ¼ãƒ‰æ›´æ–°ãƒ»è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
git add -A
git commit -m "feat: ã‚·ã‚¹ãƒ†ãƒ æ©Ÿèƒ½æ”¹å–„"
git push origin main  # è‡ªå‹•CI/CDå®Ÿè¡Œ

# ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³ç¢ºèª
gh run list --limit 5
gh run view --log
```

**æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤åˆ¶å¾¡**:
- GitHub Secrets `DEPLOY_MODE` ã§åˆ¶å¾¡ï¼ˆpaper â†’ stage-10 â†’ stage-50 â†’ liveï¼‰
- 24æ™‚é–“ç›£è¦–ãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»å“è³ªã‚²ãƒ¼ãƒˆçµ±åˆ
- é€±æ¬¡MLOpsè‡ªå‹•å†å­¦ç¿’çµ±åˆ

### æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç·Šæ€¥æ™‚ï¼‰

```bash
# äº‹å‰å“è³ªç¢ºèª
bash scripts/testing/checks.sh
python3 scripts/testing/dev_check.py full-check

# Docker Build & Deploy
docker build -t crypto-bot .
gcloud run deploy crypto-bot-service-prod \
    --image=crypto-bot \
    --region=asia-northeast1 \
    --memory=1Gi --cpu=1 \
    --set-env-vars="MODE=live,EXCHANGE=bitbank"
```

---

## ğŸ“Š ç›£è¦–ãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹

### 24æ™‚é–“ç›£è¦–ä½“åˆ¶
- **ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹**: 15åˆ†é–“éš”ï¼ˆGitHub Actionsï¼‰
- **å–å¼•ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼ˆDiscordé€šçŸ¥ï¼‰
- **MLãƒ¢ãƒ‡ãƒ«æ€§èƒ½**: æ—¥æ¬¡è©•ä¾¡ãƒ»é€±æ¬¡è‡ªå‹•å†å­¦ç¿’
- **ã‚¨ãƒ©ãƒ¼ãƒ»ç•°å¸¸æ¤œçŸ¥**: å³åº§é€šçŸ¥ï¼ˆ3éšå±¤ã‚¢ãƒ©ãƒ¼ãƒˆï¼‰

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™
- ç¨¼åƒç‡: 99.5%ä»¥ä¸Š
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“: å¹³å‡3ç§’ä»¥ä¸‹  
- ã‚¨ãƒ©ãƒ¼ç‡: 5ä»¶/æ™‚é–“ä»¥ä¸‹
- å–å¼•å‹ç‡: 55%ä»¥ä¸Š

### Discordé€šçŸ¥ãƒ¬ãƒ™ãƒ«
- **Critical** (å³åº§å¯¾å¿œ): ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åœæ­¢ãƒ»å–å¼•æ©Ÿèƒ½éšœå®³
- **Warning** (30åˆ†ä»¥å†…): ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ãƒ»APIæ¥ç¶šå•é¡Œ
- **Info** (ç›£è¦–ç¶™ç¶š): æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸ç¨¼åƒ

---

## ğŸš¨ ç·Šæ€¥æ™‚å¯¾å¿œ

### ç·Šæ€¥åº¦åˆ¥å¯¾å¿œæ™‚é–“
- **Critical** (5åˆ†ä»¥å†…): ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åœæ­¢ãƒ»ãƒ‡ãƒ¼ã‚¿æå¤± â†’ å³åº§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **High** (30åˆ†ä»¥å†…): MLéšœå®³ãƒ»APIæ¥ç¶šä¸å¯ â†’ æ®µéšçš„ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»è¨ºæ–­
- **Medium** (2æ™‚é–“ä»¥å†…): ä¸€éƒ¨æ©Ÿèƒ½éšœå®³ãƒ»è­¦å‘Š â†’ åŸå› ç‰¹å®šãƒ»è¨ˆç”»çš„ä¿®æ­£
- **Low** (24æ™‚é–“ä»¥å†…): è»½å¾®å•é¡Œãƒ»æ”¹å–„è¦æœ› â†’ æ¬¡å›ãƒ‡ãƒ—ãƒ­ã‚¤ã§å¯¾å¿œ

### Critical ãƒ¬ãƒ™ãƒ«å¯¾å¿œï¼ˆ5åˆ†ä»¥å†…ï¼‰
```bash
# ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åœæ­¢
gh workflow run ci.yml --ref <å®‰å®šç‰ˆã‚³ãƒŸãƒƒãƒˆ>  # å³åº§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
gcloud run services update-traffic crypto-bot-service-prod \
  --to-revisions=<å®‰å®šãƒªãƒ“ã‚¸ãƒ§ãƒ³>=100          # ç›´æ¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
gcloud run services update crypto-bot-service-prod --min-instances=0  # ç·Šæ€¥åœæ­¢

# ãƒ‡ãƒ¼ã‚¿æå¤±ãƒ»ç ´æå¯¾å¿œ
python3 scripts/testing/dev_check.py ml-models   # MLãƒ¢ãƒ‡ãƒ«å†ä½œæˆ
python3 scripts/testing/dev_check.py full-check  # ã‚·ã‚¹ãƒ†ãƒ æ•´åˆæ€§ç¢ºèª
```

### High ãƒ¬ãƒ™ãƒ«å¯¾å¿œï¼ˆ30åˆ†ä»¥å†…ï¼‰
```bash
# MLäºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ éšœå®³
python3 scripts/testing/dev_check.py ml-models --dry-run
python3 scripts/testing/dev_check.py validate
```

---

## ğŸ”„ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †
```bash
# 1. GitHub ActionsçµŒç”±ï¼ˆæ¨å¥¨ï¼‰
git log --oneline -10
gh workflow run ci.yml --ref <å®‰å®šç‰ˆã‚³ãƒŸãƒƒãƒˆ>

# 2. Cloud Runç›´æ¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆç·Šæ€¥æ™‚ï¼‰
gcloud run revisions list --service=crypto-bot-service-prod
gcloud run services update-traffic crypto-bot-service-prod \
  --to-revisions=<å®‰å®šãƒªãƒ“ã‚¸ãƒ§ãƒ³>=100

# 3. ç¢ºèª
bash scripts/testing/checks.sh
```

---

## ğŸ” ã‚ˆãã‚ã‚‹å•é¡Œãƒ»å¯¾å‡¦æ³•

```bash
# GitHub Actionså¤±æ•—
gh run view <run-id> --log-failed
gcloud run deploy crypto-bot-service-prod --source .

# MLOpsã‚·ã‚¹ãƒ†ãƒ å•é¡Œ
python3 scripts/testing/dev_check.py ml-models
python3 scripts/testing/dev_check.py validate

# Discordé€šçŸ¥å•é¡Œ
python3 scripts/testing/dev_check.py validate
```

---

## ğŸ“‹ å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

```bash
# æ—¥æ¬¡
bash scripts/testing/checks.sh
python3 scripts/testing/dev_check.py full-check

# é€±æ¬¡
gh run list --workflow=model-training.yml --limit 5
python3 scripts/analytics/performance_analyzer.py --period 7d

# æœˆæ¬¡
gcloud run revisions list --service=crypto-bot-service-prod
# å¤ã„ãƒªãƒ“ã‚¸ãƒ§ãƒ³å‰Šé™¤ï¼ˆæ‰‹å‹•ç¢ºèªå¾Œï¼‰
```

---

## ğŸ“ é‹ç”¨ãƒ­ã‚°

### æ—¥æ¬¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
```
æ—¥ä»˜: YYYY-MM-DD
â–¡ ã‚·ã‚¹ãƒ†ãƒ å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆ654ãƒ†ã‚¹ãƒˆãƒ»59.24%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
â–¡ MLOpsåŸºç›¤ç¢ºèªï¼ˆfeature_manager.pyãƒ»é€±æ¬¡å†å­¦ç¿’ï¼‰
â–¡ 24æ™‚é–“ç›£è¦–ãƒ»Discordé€šçŸ¥ç¢ºèª
â–¡ æœ¬ç•ªç¨¼åƒãƒ»å–å¼•ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª
```

### ç·Šæ€¥æ™‚å¯¾å¿œè¨˜éŒ²
```
ç™ºç”Ÿæ—¥æ™‚: YYYY-MM-DD HH:MM:SS
ç·Šæ€¥åº¦: Critical/High/Medium/Low
ç—‡çŠ¶: [è©³ç´°]
å¯¾å¿œ: [å®Ÿæ–½å†…å®¹]
å¾©æ—§æ™‚é–“: __åˆ†
```

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»é‡è¦ã‚³ãƒãƒ³ãƒ‰

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“**: `CLAUDE.md`
- **ãƒ­ãƒ¼ã‚«ãƒ«æ¤œè¨¼**: `docs/é‹ç”¨æ‰‹é †/ãƒ­ãƒ¼ã‚«ãƒ«æ¤œè¨¼æ‰‹é †.md`
- **CI/CDè¨­å®š**: `docs/CI-CDè¨­å®š/CI-CDãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰.md`
- **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: `config/core/unified.yaml`

### ç·Šæ€¥æ™‚é‡è¦ã‚³ãƒãƒ³ãƒ‰
```bash
# å³åº§ã‚·ã‚¹ãƒ†ãƒ åœæ­¢
gcloud run services update crypto-bot-service-prod --min-instances=0

# ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª
python3 scripts/testing/dev_check.py full-check

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ
gh workflow run ci.yml --ref <å®‰å®šç‰ˆã‚³ãƒŸãƒƒãƒˆ>

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
gcloud logging read 'severity>=ERROR' --limit=20

# Discordé€šçŸ¥ãƒ†ã‚¹ãƒˆ
python3 scripts/management/ops_monitor.py --phase phase2
```

---

**ğŸ¯ é‹ç”¨ä½“åˆ¶**: ç‰¹å¾´é‡çµ±ä¸€ç®¡ç†ãƒ»MLOpsåŸºç›¤ãƒ»å®šæœŸå†å­¦ç¿’CIå®Œæˆã«ã‚ˆã‚Šã€654ãƒ†ã‚¹ãƒˆ100%å“è³ªä¿è¨¼ãƒ»59.24%ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ»24æ™‚é–“è‡ªå‹•ç›£è¦–ã‚’å®Ÿç¾ã—ãŸä¼æ¥­ç´šé‹ç”¨ã‚·ã‚¹ãƒ†ãƒ **

**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ8æ—¥ - é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«æœ€é©åŒ–ãƒ»çµ±ä¸€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œå®Œäº†