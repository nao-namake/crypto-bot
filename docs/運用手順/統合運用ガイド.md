# çµ±åˆé‹ç”¨ã‚¬ã‚¤ãƒ‰ - crypto-botã‚·ã‚¹ãƒ†ãƒ å®Œå…¨ç‰ˆ

**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ16æ—¥
**å¯¾è±¡è€…**: é–‹ç™ºè€…ãƒ»DevOpsã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ»ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãƒ»é‹ç”¨æ‹…å½“è€…
**ç›®çš„**: AIè‡ªå‹•å–å¼•ã‚·ã‚¹ãƒ†ãƒ ã®ç’°å¢ƒæ§‹ç¯‰ãƒ»é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»é‹ç”¨ãƒ»ç›£è¦–ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼ˆå®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆå¯¾å¿œï¼‰

## ğŸ“‹ æ¦‚è¦

AIè‡ªå‹•å–å¼•ã‚·ã‚¹ãƒ†ãƒ ï¼ˆcrypto-botï¼‰ã®åŒ…æ‹¬çš„ãªé‹ç”¨ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚Phase22å®Œæˆç‰ˆã¨ã—ã¦ã€15ç‰¹å¾´é‡çµ±åˆãƒ»5æˆ¦ç•¥çµ±åˆãƒ»ProductionEnsembleãƒ»Cloud Run 24æ™‚é–“ç¨¼åƒãƒ»Discord 3éšå±¤ç›£è¦–ã«å¯¾å¿œã—ãŸä¼æ¥­ç´šå“è³ªã‚·ã‚¹ãƒ†ãƒ ã®å…¨é‹ç”¨æ‰‹é †ã‚’çµ±åˆç®¡ç†ã—ã¾ã™ã€‚

**ğŸ†• ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†å¼·åŒ–ï¼ˆ2025å¹´9æœˆ16æ—¥ï¼‰**: é‡è¤‡èµ·å‹•é˜²æ­¢ãƒ»ç’°å¢ƒè‡ªå‹•åˆ¤å®šãƒ»å®‰å…¨å®Ÿè¡Œåˆ¶å¾¡ã«ã‚ˆã‚Šã€ç„¡é™é€šçŸ¥å•é¡Œã‚’æ ¹æœ¬çš„ã«è§£æ±ºã€‚`scripts/management/run_safe.sh` ã«ã‚ˆã‚‹çµ±ä¸€å®Ÿè¡Œã‚’å¼·ãæ¨å¥¨ã€‚

**ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹**: å®Œå…¨ç¨¼åƒä¸­ãƒ»Cloud Run 24æ™‚é–“é‹ç”¨ãƒ»bitbankä¿¡ç”¨å–å¼•å¯¾å¿œãƒ»625ãƒ†ã‚¹ãƒˆ100%ãƒ»64.74%ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ»ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†æœ€é©åŒ–å®Œäº†

---

# ç¬¬1éƒ¨: ç’°å¢ƒæ§‹ç¯‰ãƒ»åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

## ğŸ› ï¸ å‰ææ¡ä»¶ãƒ»è¦ä»¶

### **ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶**
- **Python**: 3.12ï¼ˆMLãƒ©ã‚¤ãƒ–ãƒ©ãƒªäº’æ›æ€§æœ€é©åŒ–ï¼‰
- **Node.js**: 18+ ï¼ˆGitHub CLIç”¨ï¼‰
- **Docker**: 20.10+ ï¼ˆã‚³ãƒ³ãƒ†ãƒŠåŒ–ãƒ‡ãƒ—ãƒ­ã‚¤ç”¨ï¼‰
- **Git**: 2.30+ ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰

### **æ¨©é™ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¦ä»¶**
- **GCP Project**: Editor ã¾ãŸã¯Owneræ¨©é™
- **GitHub Repository**: Adminæ¨©é™
- **Bitbank API**: ä¿¡ç”¨å–å¼•å¯¾å¿œAPIã‚­ãƒ¼
- **Discord**: Webhook URLè¨­å®šæ¨©é™

### **åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd crypto-bot

# Pythonä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒç¢ºèª
python3 --version  # 3.12.xç¢ºèª
gcloud --version    # gcloud CLIç¢ºèª
docker --version    # Dockerç¢ºèª
gh --version        # GitHub CLIç¢ºèª
```

## ğŸ”§ GCPç’°å¢ƒæ§‹ç¯‰

### **è‡ªå‹•ç’°å¢ƒæ§‹ç¯‰ï¼ˆæ¨å¥¨ï¼‰**
```bash
# çµ±åˆGCPç’°å¢ƒæ§‹ç¯‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
bash scripts/deployment/setup_gcp_environment.sh --full

# å¯¾è©±å¼ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã§ä»¥ä¸‹ã‚’è¨­å®š:
# - GCP Project IDè¨­å®š
# - å¿…è¦ãªAPIæœ‰åŠ¹åŒ–ï¼ˆCloud Runãƒ»Artifact Registryãƒ»Secret Managerç­‰ï¼‰
# - Artifact Registryãƒªãƒã‚¸ãƒˆãƒªä½œæˆ
# - ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ»æ¨©é™ä»˜ä¸
# - Workload Identityè¨­å®šï¼ˆGitHub Actionsç”¨ï¼‰
# - Secret Managerè¨­å®šï¼ˆBitbank APIãƒ»Discord Webhookï¼‰
```

### **æ®µéšçš„ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
```bash
# APIsæœ‰åŠ¹åŒ–ã®ã¿
bash scripts/deployment/setup_gcp_environment.sh --apis-only

# èªè¨¼æƒ…å ±è¨­å®šã®ã¿
bash scripts/deployment/setup_gcp_environment.sh --secrets-only

# è¨­å®šæ¤œè¨¼ã®ã¿
bash scripts/deployment/setup_gcp_environment.sh --verify
```

### **ç’°å¢ƒæ¤œè¨¼ãƒ»è¨­å®šç¢ºèª**
```bash
# åŒ…æ‹¬çš„ç’°å¢ƒæ¤œè¨¼
bash scripts/deployment/verify_gcp_setup.sh --full

# Cloud Runå°‚ç”¨ç¢ºèª
bash scripts/deployment/verify_gcp_setup.sh --cloud-run-check

# GitHub Actionsé€£æºç¢ºèª
bash scripts/deployment/verify_gcp_setup.sh --github-check
```

## ğŸ” GitHubè¨­å®š

### **Repository Secretsè¨­å®š**
GitHubãƒªãƒã‚¸ãƒˆãƒªã® `Settings > Secrets and variables > Actions`:

| Name | Value | èª¬æ˜ |
|------|-------|------|
| `GCP_PROJECT_ID` | `my-crypto-bot-project` | GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID |
| `GCP_WIF_PROVIDER` | `projects/{PROJECT_NUMBER}/locations/global/workloadIdentityPools/github-pool/providers/github-provider` | Workload Identity Provider |
| `GCP_SERVICE_ACCOUNT` | `github-actions-sa@my-crypto-bot-project.iam.gserviceaccount.com` | ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ |
| `DEPLOY_MODE` | `paper` | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¢ãƒ¼ãƒ‰ï¼ˆpaper/liveåˆ¶å¾¡ï¼‰ |

### **Repository Variablesè¨­å®š**
| Name | Value | èª¬æ˜ |
|------|-------|------|
| `GCP_REGION` | `asia-northeast1` | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ |
| `ARTIFACT_REPOSITORY` | `crypto-bot-repo` | Artifact Repositoryå |
| `CLOUD_RUN_SERVICE` | `crypto-bot-service` | Cloud Runã‚µãƒ¼ãƒ“ã‚¹å |

### **GitHub CLIè¨­å®š**
```bash
# GitHub CLIèªè¨¼
gh auth login

# Secretè¨­å®šä¾‹
gh secret set DEPLOY_MODE --body "paper"
gh secret set GCP_PROJECT_ID --body "my-crypto-bot-project"
```

---

# ç¬¬2éƒ¨: é–‹ç™ºãƒ»å“è³ªç®¡ç†

## ğŸ§ª å“è³ªãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ 

### **ãƒ¡ã‚¤ãƒ³å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆå¿…é ˆï¼‰**
```bash
# é–‹ç™ºå‰å¾Œã«å¿…ãšå®Ÿè¡Œ - ç´„30ç§’ã§å®Œäº†
bash scripts/testing/checks.sh

# æœŸå¾…çµæœï¼ˆPhase 22æ¨™æº–ï¼‰:
# âœ… 620ãƒ†ã‚¹ãƒˆ100%æˆåŠŸ
# âœ… 64.79%ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆï¼ˆç›®æ¨™55%ã‚¯ãƒªã‚¢ï¼‰
# âœ… ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«æº–æ‹ ï¼ˆflake8ãƒ»blackãƒ»isortï¼‰
# âœ… 15ç‰¹å¾´é‡çµ±åˆã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸å‹•ä½œ
# âœ… MLãƒ¢ãƒ‡ãƒ«æ•´åˆæ€§ç¢ºèª
```

### **çµ±åˆé–‹ç™ºç®¡ç†CLI**
```bash
# Phase 22çµ±åˆå“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆæ¨å¥¨ï¼‰
python3 scripts/testing/dev_check.py full-check

# å€‹åˆ¥æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
python3 scripts/testing/dev_check.py validate       # åŸºæœ¬å“è³ªãƒã‚§ãƒƒã‚¯
python3 scripts/testing/dev_check.py ml-models      # MLãƒ¢ãƒ‡ãƒ«ä½œæˆãƒ»æ¤œè¨¼
python3 scripts/testing/dev_check.py data-check     # ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»15ç‰¹å¾´é‡ç¢ºèª
python3 scripts/testing/dev_check.py status         # ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª

# æœ¬ç•ªç’°å¢ƒç›£è¦–
python3 scripts/testing/dev_check.py health-check   # Cloud Runãƒ»GCPç¢ºèª
```

### **ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç¢ºèª**
```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆHTMLè¡¨ç¤º
open coverage-reports/htmlcov/index.html

# ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³è©³ç´°è¡¨ç¤º
python3 -m coverage report --show-missing
```

## ğŸ¤– æ©Ÿæ¢°å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ 

### **MLãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ»ç®¡ç†**
```bash
# Phase22å¯¾å¿œãƒ»15ç‰¹å¾´é‡çµ±åˆMLãƒ¢ãƒ‡ãƒ«å­¦ç¿’
python3 scripts/ml/create_ml_models.py --verbose

# å­¦ç¿’æˆæœç¢ºèª:
# - 15ç‰¹å¾´é‡: å®Œå…¨ç”Ÿæˆãƒ»çµ±ä¸€ç®¡ç†å¯¾å¿œ
# - 3ãƒ¢ãƒ‡ãƒ«: LightGBMãƒ»XGBoostãƒ»RandomForest ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«
# - æœ¬ç•ªãƒ¢ãƒ‡ãƒ«: ProductionEnsembleä¿å­˜ï¼ˆmodels/production/ï¼‰
# - æ€§èƒ½è©•ä¾¡: F1ã‚¹ã‚³ã‚¢ãƒ»ç²¾åº¦ãƒ»å†ç¾ç‡ãƒ»ã‚¯ãƒ­ã‚¹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
```

### **çµ±åˆç®¡ç†CLIçµŒç”±å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰**
```bash
# MLOpsçµ±åˆå®Ÿè¡Œ
python3 scripts/testing/dev_check.py ml-models --verbose

# ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³ï¼ˆå®Ÿè¡Œå‰ç¢ºèªï¼‰
python3 scripts/testing/dev_check.py ml-models --dry-run

# é€±æ¬¡è‡ªå‹•å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ç¢ºèª
gh run list --workflow=model-training.yml --limit 5
```

### **å­¦ç¿’çµæœç¢ºèª**
```bash
# ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç¢ºèª
cat models/production/production_model_metadata.json | jq '.performance_metrics'

# ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la models/production/
ls -la models/training/
```

## ğŸ” ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆãƒ»ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰

### ğŸš¨ **é‡è¦ãªå®Ÿè¡Œæ–¹å¼å¤‰æ›´ï¼ˆ2025å¹´9æœˆ16æ—¥ï¼‰**

**æ¨å¥¨**: `bash scripts/management/run_safe.sh` çµŒç”±å®Ÿè¡Œï¼ˆãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»é‡è¤‡é˜²æ­¢ï¼‰
**éæ¨å¥¨**: `python3 main.py` ç›´æ¥å®Ÿè¡Œï¼ˆç„¡é™é€šçŸ¥ãƒ»ãƒ—ãƒ­ã‚»ã‚¹é‡è¤‡ãƒªã‚¹ã‚¯ï¼‰

### **ğŸ†• ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆå®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¨å¥¨ï¼‰**
```bash
# æ¨å¥¨: å®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½¿ç”¨
bash scripts/management/run_safe.sh local backtest

# ãƒ—ãƒ­ã‚»ã‚¹çŠ¶æ³ç¢ºèª
bash scripts/management/run_safe.sh status

# å®‰å…¨åœæ­¢
bash scripts/management/run_safe.sh stop

# ã‚«ã‚¹ã‚¿ãƒ æœŸé–“ãƒ‡ãƒ¼ã‚¿æº–å‚™
python3 scripts/backtest/collect_historical_csv.py --days 180
bash scripts/management/run_safe.sh local backtest

# çµæœç¢ºèª
ls -t src/backtest/logs/backtest_*.json | head -1 | xargs cat | jq '.performance_stats'
```

### **ğŸ†• ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰å®Ÿè¡Œï¼ˆå®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆæ¨å¥¨ï¼‰**
```bash
# æ¨å¥¨: å®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆä½¿ç”¨ï¼ˆé‡è¤‡é˜²æ­¢ãƒ»ç’°å¢ƒè‡ªå‹•åˆ¤å®šï¼‰
bash scripts/management/run_safe.sh local paper

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‹•ä½œç¢ºèª
tail -f logs/crypto_bot_*.log | grep "å–å¼•åˆ¤å®š"

# å®‰å…¨åœæ­¢
bash scripts/management/run_safe.sh stop

# ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆç•°å¸¸çµ‚äº†æ™‚ï¼‰
bash scripts/management/run_safe.sh cleanup
```

### **âš ï¸ å¾“æ¥å®Ÿè¡Œæ–¹æ³•ï¼ˆéæ¨å¥¨ãƒ»ãƒ—ãƒ­ã‚»ã‚¹é‡è¤‡ãƒªã‚¹ã‚¯ï¼‰**
```bash
# éæ¨å¥¨: ç›´æ¥å®Ÿè¡Œï¼ˆãƒ—ãƒ­ã‚»ã‚¹é‡è¤‡ãƒ»ç„¡é™é€šçŸ¥ãƒªã‚¹ã‚¯ï¼‰
# python3 main.py --mode backtest  # â† ä»Šå¾Œéæ¨å¥¨
# python3 main.py --mode paper     # â† ä»Šå¾Œéæ¨å¥¨

# çµ±åˆã‚·ã‚¹ãƒ†ãƒ å‹•ä½œç¢ºèªï¼ˆéæ¨å¥¨ï¼‰
# python3 main.py --config config/core/unified.yaml --mode paper  # â† ä»Šå¾Œéæ¨å¥¨
```

### **æœŸå¾…å‹•ä½œãƒ•ãƒ­ãƒ¼**
```
å®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ â†’ ãƒ—ãƒ­ã‚»ã‚¹ãƒ­ãƒƒã‚¯å–å¾— â†’ ç’°å¢ƒè¨­å®š â†’
ãƒ‡ãƒ¼ã‚¿å–å¾— â†’ 15ç‰¹å¾´é‡ç”Ÿæˆ â†’ 5æˆ¦ç•¥å®Ÿè¡Œ â†’ MLäºˆæ¸¬ â†’ ãƒªã‚¹ã‚¯è©•ä¾¡ â†’ BUY/SELLåˆ¤å®š â†’
ãƒ—ãƒ­ã‚»ã‚¹ãƒ­ãƒƒã‚¯è§£é™¤ â†’ å®Ÿè¡Œå®Œäº†
```

---

# ç¬¬3éƒ¨: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

## ğŸš€ CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

### **è‡ªå‹•CI/CDãƒ•ãƒ­ãƒ¼ï¼ˆæ¨å¥¨ï¼‰**
```bash
# 1. ãƒ­ãƒ¼ã‚«ãƒ«å“è³ªãƒã‚§ãƒƒã‚¯
bash scripts/testing/checks.sh

# 2. ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦CI/CDå®Ÿè¡Œ
git add -A
git commit -m "feat: æ–°æ©Ÿèƒ½è¿½åŠ "
git push origin main

# 3. ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³ç¢ºèª
gh run list --limit 5
gh run view --log
```

### **GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```yaml
# .github/workflows/ci.yml ã§ã®è‡ªå‹•å®Ÿè¡Œ:
# 1. å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆtestsãƒ»coverageãƒ»lintingï¼‰
# 2. MLãƒ¢ãƒ‡ãƒ«æ•´åˆæ€§ç¢ºèª
# 3. Docker Build & Push to Artifact Registry
# 4. Cloud Runæ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆpaper â†’ stage â†’ liveï¼‰
# 5. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»å‹•ä½œç¢ºèª
# 6. Discordé€šçŸ¥
```

### **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¢ãƒ¼ãƒ‰åˆ¶å¾¡**
```bash
# ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰ï¼ˆå®‰å…¨ãƒ»æ¨å¥¨ï¼‰
gh secret set DEPLOY_MODE --body "paper"

# æœ¬ç•ªå–å¼•ãƒ¢ãƒ¼ãƒ‰
gh secret set DEPLOY_MODE --body "live"
```

## ğŸ“¦ Dockerãƒ»æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### **æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç·Šæ€¥æ™‚ï¼‰**
```bash
# äº‹å‰å“è³ªç¢ºèª
bash scripts/testing/checks.sh
python3 scripts/testing/dev_check.py full-check

# æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ
bash scripts/deployment/deploy_production.sh --manual

# ç¢ºèª
gcloud run services describe crypto-bot-service-prod --region=asia-northeast1
```

### **æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤**
```bash
# ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰ç’°å¢ƒ
bash scripts/deployment/deploy_production.sh --stage paper

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒï¼ˆ10%ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ï¼‰
bash scripts/deployment/deploy_production.sh --stage stage-10

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒï¼ˆ50%ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ï¼‰  
bash scripts/deployment/deploy_production.sh --stage stage-50

# æœ¬ç•ªç’°å¢ƒï¼ˆ100%ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ï¼‰
bash scripts/deployment/deploy_production.sh --stage live
```

### **Dockeré–‹ç™ºç’°å¢ƒ**
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«Dockerå®Ÿè¡Œ
docker build -t crypto-bot .
docker run -e MODE=paper crypto-bot

# ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œ
docker run -it --entrypoint /bin/bash crypto-bot
```

---

# ç¬¬4éƒ¨: æ—¥å¸¸é‹ç”¨ãƒ»ç›£è¦–

## ğŸ“Š 24æ™‚é–“ç›£è¦–ä½“åˆ¶

### **ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèªï¼ˆæ¯æ—¥æ¨å¥¨ï¼‰**
```bash
# çµ±ä¸€å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆ30ç§’ã§å®Œäº†ï¼‰
bash scripts/testing/checks.sh

# ã‚·ã‚¹ãƒ†ãƒ ç·åˆè¨ºæ–­
python3 scripts/testing/dev_check.py check --level standard

# ğŸ†• ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†çŠ¶æ³ç¢ºèª
bash scripts/management/run_safe.sh status

# æœ¬ç•ªç’°å¢ƒç¨¼åƒç¢ºèª
gcloud run services describe crypto-bot-service-prod --region=asia-northeast1

# æœ€æ–°ãƒ­ã‚°ç¢ºèª
gcloud logging read "resource.type=cloud_run_revision" --limit=10

# ğŸ†• ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèªï¼ˆçŸ­æ™‚é–“ãƒ†ã‚¹ãƒˆï¼‰
bash scripts/management/run_safe.sh local paper  # 2-3åˆ†å®Ÿè¡Œå¾Œåœæ­¢
```

### **MLOpsã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ï¼ˆé€±1å›ï¼‰**
```bash
# MLãƒ¢ãƒ‡ãƒ«çŠ¶æ…‹ç¢ºèª
python3 scripts/testing/dev_check.py ml-models --dry-run

# é€±æ¬¡è‡ªå‹•å†å­¦ç¿’çŠ¶æ³ç¢ºèª
gh run list --workflow=model-training.yml --limit 5

# ãƒ¢ãƒ‡ãƒ«æ€§èƒ½æ¤œè¨¼
python3 -c "
from src.ml.ensemble import ProductionEnsemble
model = ProductionEnsemble()
print(f'âœ… MLãƒ¢ãƒ‡ãƒ«æ­£å¸¸: {model.is_fitted}')
"
```

### **Discordç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆç¢ºèª**
```bash
# Discordé€šçŸ¥å±¥æ­´ç¢ºèªï¼ˆã‚·ã‚¹ãƒ†ãƒ åˆ†æï¼‰
python3 scripts/analytics/base_analyzer.py --discord-check

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèªï¼ˆéå»24æ™‚é–“ï¼‰
gcloud logging read 'resource.type="cloud_run_revision" AND severity>=WARNING' --limit=10

# ã‚·ã‚¹ãƒ†ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª
python3 scripts/analytics/base_analyzer.py --performance-check
```

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

### **ç›£è¦–æŒ‡æ¨™ãƒ»ç›®æ¨™å€¤**
- **ç¨¼åƒç‡**: 99.5%ä»¥ä¸Š
- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: å¹³å‡3ç§’ä»¥ä¸‹
- **ã‚¨ãƒ©ãƒ¼ç‡**: 5ä»¶/æ™‚é–“ä»¥ä¸‹
- **å–å¼•å‹ç‡**: 55%ä»¥ä¸Š
- **MLä¿¡é ¼åº¦**: 0.35ä»¥ä¸Šç¶­æŒ

### **Discordé€šçŸ¥ãƒ¬ãƒ™ãƒ«**
- **Critical** (å³åº§å¯¾å¿œ): ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åœæ­¢ãƒ»å–å¼•æ©Ÿèƒ½éšœå®³
- **Warning** (30åˆ†ä»¥å†…): ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ãƒ»APIæ¥ç¶šå•é¡Œ  
- **Info** (ç›£è¦–ç¶™ç¶š): æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸ç¨¼åƒ

### **å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹**
```bash
# æ—¥æ¬¡
bash scripts/testing/checks.sh
python3 scripts/testing/dev_check.py full-check

# é€±æ¬¡
gh run list --workflow=model-training.yml --limit 5
python3 scripts/analytics/base_analyzer.py --weekly-report

# æœˆæ¬¡
gcloud run revisions list --service=crypto-bot-service-prod
# å¤ã„ãƒªãƒ“ã‚¸ãƒ§ãƒ³å‰Šé™¤ï¼ˆæ‰‹å‹•ç¢ºèªå¾Œï¼‰
```

---

# ç¬¬5éƒ¨: ç·Šæ€¥æ™‚å¯¾å¿œ

## ğŸš¨ ç·Šæ€¥åº¦åˆ¥å¯¾å¿œæ™‚é–“

### **Critical ãƒ¬ãƒ™ãƒ«ï¼ˆ5åˆ†ä»¥å†…ï¼‰**
**ç—‡çŠ¶**: ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨åœæ­¢ãƒ»ãƒ‡ãƒ¼ã‚¿æå¤±ãƒ»å–å¼•æ©Ÿèƒ½å®Œå…¨åœæ­¢

```bash
# å³åº§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
gh workflow run ci.yml --ref <å®‰å®šç‰ˆã‚³ãƒŸãƒƒãƒˆ>
gcloud run services update-traffic crypto-bot-service-prod \
  --to-revisions=<å®‰å®šãƒªãƒ“ã‚¸ãƒ§ãƒ³>=100 \
  --region=asia-northeast1

# ç·Šæ€¥åœæ­¢ï¼ˆæœ€çµ‚æ‰‹æ®µï¼‰
gcloud run services update crypto-bot-service-prod \
  --min-instances=0 \
  --region=asia-northeast1

# ãƒ‡ãƒ¼ã‚¿æå¤±å¯¾å¿œ
python3 scripts/ml/create_ml_models.py  # MLãƒ¢ãƒ‡ãƒ«å†ä½œæˆ
python3 scripts/testing/dev_check.py full-check  # æ•´åˆæ€§ç¢ºèª
```

### **High ãƒ¬ãƒ™ãƒ«ï¼ˆ30åˆ†ä»¥å†…ï¼‰**
**ç—‡çŠ¶**: MLéšœå®³ãƒ»APIæ¥ç¶šä¸å¯ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å¤§å¹…åŠ£åŒ–

```bash
# MLäºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ éšœå®³å¯¾å¿œ
python3 scripts/testing/dev_check.py ml-models --dry-run
python3 scripts/testing/dev_check.py validate

# APIæ¥ç¶šå•é¡Œå¯¾å¿œ  
bash scripts/deployment/verify_gcp_setup.sh --api-check
python3 scripts/testing/dev_check.py data-check
```

### **Medium ãƒ¬ãƒ™ãƒ«ï¼ˆ2æ™‚é–“ä»¥å†…ï¼‰**
**ç—‡çŠ¶**: ä¸€éƒ¨æ©Ÿèƒ½éšœå®³ãƒ»è­¦å‘Šãƒ¬ãƒ™ãƒ«ã‚¨ãƒ©ãƒ¼

```bash
# æ®µéšçš„è¨ºæ–­ãƒ»ä¿®æ­£
python3 scripts/testing/dev_check.py status
bash scripts/testing/checks.sh
```

## ğŸ”„ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥

### **GitHub ActionsçµŒç”±ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆæ¨å¥¨ï¼‰**
```bash
# å®‰å®šç‰ˆç‰¹å®š
git log --oneline -10

# å®‰å®šç‰ˆã¸ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
gh workflow run ci.yml --ref <å®‰å®šç‰ˆã‚³ãƒŸãƒƒãƒˆ>

# ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ç¢ºèª
gh run list --limit 3
bash scripts/testing/checks.sh
```

### **Cloud Runç›´æ¥ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆç·Šæ€¥æ™‚ï¼‰**
```bash
# åˆ©ç”¨å¯èƒ½ãƒªãƒ“ã‚¸ãƒ§ãƒ³ç¢ºèª
gcloud run revisions list --service=crypto-bot-service-prod --region=asia-northeast1

# å®‰å®šãƒªãƒ“ã‚¸ãƒ§ãƒ³ã¸åˆ‡ã‚Šæ›¿ãˆ
gcloud run services update-traffic crypto-bot-service-prod \
  --to-revisions=<å®‰å®šãƒªãƒ“ã‚¸ãƒ§ãƒ³>=100 \
  --region=asia-northeast1

# å‹•ä½œç¢ºèª
bash scripts/deployment/verify_gcp_setup.sh --cloud-run-check
```

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### **ğŸ†• ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†é–¢é€£ã®å•é¡Œã¨å¯¾å‡¦æ³•**

#### **ã€Œæ—¢ã«ãƒ—ãƒ­ã‚»ã‚¹ãŒå®Ÿè¡Œä¸­ã§ã™ã€ã‚¨ãƒ©ãƒ¼**
```bash
# ç—‡çŠ¶: [ERROR] æ—¢ã«ãƒ—ãƒ­ã‚»ã‚¹ãŒå®Ÿè¡Œä¸­ã§ã™
# åŸå› : å‰å›ã®å®Ÿè¡ŒãŒæ­£å¸¸çµ‚äº†ã—ã¦ã„ãªã„

# è§£æ±ºæ‰‹é †:
bash scripts/management/run_safe.sh status    # çŠ¶æ³ç¢ºèª
bash scripts/management/run_safe.sh stop     # å®‰å…¨åœæ­¢
bash scripts/management/run_safe.sh cleanup  # ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
bash scripts/management/run_safe.sh local paper  # å†å®Ÿè¡Œ
```

#### **ç„¡é™Discordé€šçŸ¥å•é¡Œ**
```bash
# ç—‡çŠ¶: Discordé€šçŸ¥ãŒ1åˆ†é–“éš”ã§æ­¢ã¾ã‚‰ãªã„
# åŸå› : ç›´æ¥å®Ÿè¡Œã«ã‚ˆã‚‹é‡è¤‡ãƒ—ãƒ­ã‚»ã‚¹

# è§£æ±ºæ‰‹é †:
ps aux | grep main.py | grep -v grep  # ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
kill [PIDç•ªå·]                       # é‡è¤‡ãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†
bash scripts/management/run_safe.sh cleanup  # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
bash scripts/management/run_safe.sh local paper  # å®‰å…¨å®Ÿè¡Œ
```

#### **ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«æ®‹å­˜å•é¡Œ**
```bash
# ç—‡çŠ¶: ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¾ã™ãŒã€ãƒ—ãƒ­ã‚»ã‚¹ã¯å®Ÿè¡Œã•ã‚Œã¦ã„ã¾ã›ã‚“
# åŸå› : ç•°å¸¸çµ‚äº†ã§ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ®‹å­˜

# è§£æ±ºæ‰‹é †:
bash scripts/management/run_safe.sh cleanup  # å¼·åˆ¶ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
bash scripts/management/run_safe.sh local paper  # å†å®Ÿè¡Œ
```

### **å¾“æ¥ã®å•é¡Œã¨å¯¾å‡¦æ³•**

#### **GitHub Actionså¤±æ•—**
```bash
# å¤±æ•—è©³ç´°ç¢ºèª
gh run view <run-id> --log-failed

# æ‰‹å‹•ä¿®å¾©
bash scripts/deployment/setup_gcp_environment.sh --repair
bash scripts/deployment/verify_gcp_setup.sh --full
```

#### **æ¨©é™ã‚¨ãƒ©ãƒ¼**
```bash
# ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¨©é™ç¢ºèª
gcloud projects get-iam-policy my-crypto-bot-project \
  --flatten="bindings[].members" \
  --filter="bindings.members:*github-actions-sa*"

# Workload Identityè¨­å®šç¢ºèª
gcloud iam workload-identity-pools list --location=global
```

#### **Secret Manageræ¥ç¶šã‚¨ãƒ©ãƒ¼**
```bash
# ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå­˜åœ¨ç¢ºèª
gcloud secrets list

# ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç¢ºèª
gcloud secrets get-iam-policy bitbank-api-key
```

#### **MLOpsã‚·ã‚¹ãƒ†ãƒ å•é¡Œ**
```bash
# ãƒ¢ãƒ‡ãƒ«æ•´åˆæ€§ç¢ºèª
python3 scripts/testing/dev_check.py ml-models
python3 scripts/testing/dev_check.py validate

# å¼·åˆ¶å†å­¦ç¿’
python3 scripts/ml/create_ml_models.py --verbose
```

### **è¨ºæ–­ã‚³ãƒãƒ³ãƒ‰é›†**
```bash
# ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“è¨ºæ–­
python3 scripts/testing/dev_check.py full-check

# ç’°å¢ƒè¨ºæ–­
bash scripts/deployment/verify_gcp_setup.sh --full

# å“è³ªè¨ºæ–­
bash scripts/testing/checks.sh

# æœ¬ç•ªç’°å¢ƒè¨ºæ–­
python3 scripts/testing/dev_check.py health-check
```

## ğŸ“ é‹ç”¨ãƒ­ã‚°è¨˜éŒ²

### **æ—¥æ¬¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ**
```
æ—¥ä»˜: YYYY-MM-DD
â–¡ ã‚·ã‚¹ãƒ†ãƒ å“è³ªãƒã‚§ãƒƒã‚¯ï¼ˆ620ãƒ†ã‚¹ãƒˆãƒ»64.79%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
â–¡ MLOpsåŸºç›¤ç¢ºèªï¼ˆ15ç‰¹å¾´é‡ãƒ»ProductionEnsembleï¼‰
â–¡ 24æ™‚é–“ç›£è¦–ãƒ»Discordé€šçŸ¥ç¢ºèª
â–¡ æœ¬ç•ªç¨¼åƒãƒ»å–å¼•ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª
â–¡ ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãƒ»ç•°å¸¸ãªã—ç¢ºèª
```

### **ç·Šæ€¥æ™‚å¯¾å¿œè¨˜éŒ²**
```
ç™ºç”Ÿæ—¥æ™‚: YYYY-MM-DD HH:MM:SS
ç·Šæ€¥åº¦: Critical/High/Medium/Low
ç—‡çŠ¶: [è©³ç´°ç—‡çŠ¶ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸]
å¯¾å¿œ: [å®Ÿæ–½ã—ãŸå¯¾å¿œå†…å®¹ãƒ»ã‚³ãƒãƒ³ãƒ‰]
å¾©æ—§æ™‚é–“: __åˆ†
æ ¹æœ¬åŸå› : [åˆ¤æ˜ã—ãŸåŸå› ]
å†ç™ºé˜²æ­¢ç­–: [å®Ÿæ–½ã—ãŸæ”¹å–„ç­–]
```

---

# ä»˜éŒ²: ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

## ğŸ“‚ scriptsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
scripts/
â”œâ”€â”€ analytics/          # ã‚·ã‚¹ãƒ†ãƒ åˆ†æåŸºç›¤
â”‚   â”œâ”€â”€ base_analyzer.py    # Cloud Runãƒ­ã‚°å–å¾—ãƒ»ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ãƒ»åˆ†ææ©Ÿèƒ½
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ deployment/         # ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ»ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†
â”‚   â”œâ”€â”€ deploy_production.sh        # æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹
â”‚   â”œâ”€â”€ docker-entrypoint.sh        # Dockerã‚³ãƒ³ãƒ†ãƒŠã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ setup_gcp_environment.sh    # çµ±åˆGCPç’°å¢ƒæ§‹ç¯‰ãƒ»èªè¨¼ç®¡ç†
â”‚   â”œâ”€â”€ verify_gcp_setup.sh         # GCPç’°å¢ƒæ¤œè¨¼ãƒ»è¨­å®šç¢ºèª
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ ğŸ†• management/        # ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»å®‰å…¨å®Ÿè¡Œã‚·ã‚¹ãƒ†ãƒ ï¼ˆ2025å¹´9æœˆ16æ—¥è¿½åŠ ï¼‰
â”‚   â”œâ”€â”€ run_safe.sh              # å®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆãƒ—ãƒ­ã‚»ã‚¹é‡è¤‡é˜²æ­¢ãƒ»ç’°å¢ƒåˆ¤å®šï¼‰
â”‚   â””â”€â”€ README.md                # ç®¡ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆè©³ç´°èª¬æ˜
â”œâ”€â”€ ml/                 # æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ»ç®¡ç†
â”‚   â”œâ”€â”€ create_ml_models.py          # Phase22å¯¾å¿œãƒ»15ç‰¹å¾´é‡MLãƒ¢ãƒ‡ãƒ«å­¦ç¿’
â”‚   â””â”€â”€ README.md
â””â”€â”€ testing/            # å“è³ªä¿è¨¼ãƒ»ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ 
    â”œâ”€â”€ checks.sh                    # å“è³ªãƒã‚§ãƒƒã‚¯ãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ30ç§’å®Œäº†ï¼‰
    â”œâ”€â”€ dev_check.py                 # çµ±åˆé–‹ç™ºç®¡ç†CLIãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­
    â””â”€â”€ README.md
```

## ğŸ”§ ä¸»è¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆè©³ç´°

### **ğŸ†• ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»å®‰å…¨å®Ÿè¡Œã‚·ã‚¹ãƒ†ãƒ ï¼ˆ2025å¹´9æœˆ16æ—¥è¿½åŠ ï¼‰**

#### `scripts/management/run_safe.sh`
å®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»ãƒ—ãƒ­ã‚»ã‚¹é‡è¤‡é˜²æ­¢ãƒ»ç’°å¢ƒè‡ªå‹•åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ï¼ˆ18.5KBå®Ÿè£…ï¼‰
```bash
# ä½¿ç”¨ä¾‹
bash scripts/management/run_safe.sh local paper     # ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰å®‰å…¨å®Ÿè¡Œ
bash scripts/management/run_safe.sh local backtest  # ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®‰å…¨å®Ÿè¡Œ
bash scripts/management/run_safe.sh gcp live        # GCPç’°å¢ƒãƒ©ã‚¤ãƒ–ãƒˆãƒ¬ãƒ¼ãƒ‰
bash scripts/management/run_safe.sh status          # ãƒ—ãƒ­ã‚»ã‚¹çŠ¶æ³ç¢ºèª
bash scripts/management/run_safe.sh stop            # å®‰å…¨åœæ­¢
bash scripts/management/run_safe.sh cleanup         # ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

# æ©Ÿèƒ½:
# - PIDãƒ™ãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹é‡è¤‡é˜²æ­¢ï¼ˆfcntlãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«åˆ¶å¾¡ï¼‰
# - ç’°å¢ƒè‡ªå‹•åˆ¤å®šï¼ˆãƒ­ãƒ¼ã‚«ãƒ«/GCPåˆ‡ã‚Šæ›¿ãˆãƒ»ç’°å¢ƒå¤‰æ•°è‡ªå‹•è¨­å®šï¼‰
# - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆç®¡ç†ï¼ˆGCPç’°å¢ƒ15åˆ†è‡ªå‹•çµ‚äº†ãƒ»ã‚³ã‚¹ãƒˆåˆ¶å¾¡ï¼‰
# - ã‚·ã‚°ãƒŠãƒ«åˆ¶å¾¡ï¼ˆSIGTERM/SIGINTé©åˆ‡å‡¦ç†ãƒ»ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ï¼‰
# - ãƒ—ãƒ­ã‚»ã‚¹ç›£è¦–ï¼ˆå®Ÿè¡ŒçŠ¶æ³å¯è¦–åŒ–ãƒ»çµŒéæ™‚é–“è¡¨ç¤ºï¼‰
# - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆè‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ãƒ»å¾©æ—§ææ¡ˆï¼‰
# - ä»Šå›ã®ç„¡é™é€šçŸ¥å•é¡Œã‚’æ ¹æœ¬çš„ã«è§£æ±º
```

### **å“è³ªä¿è¨¼ã‚·ã‚¹ãƒ†ãƒ **

#### `scripts/testing/checks.sh`
ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å“è³ªãƒã‚§ãƒƒã‚¯ã¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
# åŸºæœ¬å®Ÿè¡Œï¼ˆé–‹ç™ºæ™‚å¿…é ˆï¼‰
bash scripts/testing/checks.sh

# æ©Ÿèƒ½:
# - 620ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»100%æˆåŠŸç¢ºèª
# - 64.79%ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®šãƒ»HTML/JSON/Termå‡ºåŠ›
# - flake8ãƒ»blackãƒ»isort ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯
# - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ãƒ»MLãƒ¢ãƒ‡ãƒ«å­˜åœ¨ç¢ºèª
# - ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆcoverage-reports/ï¼‰
```

#### `scripts/testing/dev_check.py`
çµ±åˆé–‹ç™ºç®¡ç†ãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨ºæ–­CLIï¼ˆ62.3KBå¤§è¦æ¨¡å®Ÿè£…ï¼‰
```bash
# ä¸»è¦ã‚³ãƒãƒ³ãƒ‰
python3 scripts/testing/dev_check.py full-check     # çµ±åˆå“è³ªãƒã‚§ãƒƒã‚¯
python3 scripts/testing/dev_check.py validate       # åŸºæœ¬å“è³ªãƒã‚§ãƒƒã‚¯
python3 scripts/testing/dev_check.py ml-models      # MLãƒ¢ãƒ‡ãƒ«ä½œæˆãƒ»æ¤œè¨¼
python3 scripts/testing/dev_check.py data-check     # 15ç‰¹å¾´é‡ãƒ‡ãƒ¼ã‚¿ç¢ºèª
python3 scripts/testing/dev_check.py health-check   # Cloud Runãƒ»GCPç¢ºèª
python3 scripts/testing/dev_check.py status         # ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹ç¢ºèª

# æ©Ÿèƒ½:
# - Phase22çµ±åˆå“è³ªç®¡ç†ï¼ˆ620ãƒ†ã‚¹ãƒˆãƒ»64.79%ã‚«ãƒãƒ¬ãƒƒã‚¸ï¼‰
# - MLOpsåŸºç›¤ç®¡ç†ï¼ˆ15ç‰¹å¾´é‡ãƒ»ProductionEnsembleï¼‰
# - æœ¬ç•ªç’°å¢ƒç›£è¦–ï¼ˆCloud Runãƒ»Discordé€šçŸ¥ï¼‰
# - è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆï¼ˆMarkdownå½¢å¼ï¼‰
```

### **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ **

#### `scripts/deployment/setup_gcp_environment.sh`
çµ±åˆGCPç’°å¢ƒæ§‹ç¯‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ25KBå¤§è¦æ¨¡å®Ÿè£…ï¼‰
```bash
# ä½¿ç”¨ä¾‹
bash scripts/deployment/setup_gcp_environment.sh --full         # å®Œå…¨æ§‹ç¯‰
bash scripts/deployment/setup_gcp_environment.sh --apis-only    # APIæœ‰åŠ¹åŒ–ã®ã¿
bash scripts/deployment/setup_gcp_environment.sh --secrets-only # èªè¨¼æƒ…å ±ã®ã¿
bash scripts/deployment/setup_gcp_environment.sh --verify       # æ¤œè¨¼ã®ã¿

# æ©Ÿèƒ½:
# - Cloud Runãƒ»Artifact Registryãƒ»Secret Managerçµ±åˆè¨­å®š
# - GitHub Actions OIDCãƒ»Workload Identityæ§‹ç¯‰
# - Bitbank APIãƒ»Discord Webhookèªè¨¼æƒ…å ±ç®¡ç†
# - å¯¾è©±å¼è¨­å®šãƒ»è‡ªå‹•æ¤œè¨¼ãƒ»ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
```

#### `scripts/deployment/deploy_production.sh`
æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ»æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹ç®¡ç†ï¼ˆ20KBå®Ÿè£…ï¼‰
```bash
# ä½¿ç”¨ä¾‹
bash scripts/deployment/deploy_production.sh --staged      # æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤
bash scripts/deployment/deploy_production.sh --manual      # æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤
bash scripts/deployment/deploy_production.sh --stage paper # ãƒšãƒ¼ãƒ‘ãƒ¼ãƒˆãƒ¬ãƒ¼ãƒ‰

# æ©Ÿèƒ½:
# - paperâ†’stage-10â†’stage-50â†’live æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹
# - Dockerçµ±åˆãƒ»Artifact Registryç®¡ç†
# - å“è³ªã‚²ãƒ¼ãƒˆãƒ»ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
# - Discordé€šçŸ¥ãƒ»æˆåŠŸ/å¤±æ•—ãƒ¬ãƒãƒ¼ãƒˆ
```

#### `scripts/deployment/verify_gcp_setup.sh`
GCPç’°å¢ƒæ¤œè¨¼ãƒ»è¨ºæ–­ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ27KBå®Ÿè£…ï¼‰
```bash
# ä½¿ç”¨ä¾‹
bash scripts/deployment/verify_gcp_setup.sh --full              # åŒ…æ‹¬çš„æ¤œè¨¼
bash scripts/deployment/verify_gcp_setup.sh --cloud-run-check   # Cloud Runå°‚ç”¨
bash scripts/deployment/verify_gcp_setup.sh --github-check      # GitHub Actionsç¢ºèª

# æ©Ÿèƒ½:
# - GCPã‚µãƒ¼ãƒ“ã‚¹ãƒ»æ¨©é™ãƒ»æ¥ç¶šçŠ¶æ³å…¨ä½“ç¢ºèª
# - Cloud Runãƒ»Secret Managerãƒ»GitHub Actionsæ¤œè¨¼
# - å•é¡Œè¨ºæ–­ãƒ»ä¿®å¾©ææ¡ˆãƒ»è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
```

#### `scripts/deployment/docker-entrypoint.sh`
Dockerã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•åˆ¶å¾¡ãƒ»ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ï¼ˆ8.7KBå®Ÿè£…ï¼‰
```bash
# å†…éƒ¨ä½¿ç”¨ï¼ˆDockerfileã‹ã‚‰è‡ªå‹•å®Ÿè¡Œï¼‰
# æ©Ÿèƒ½:
# - ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ—ãƒ­ã‚»ã‚¹ï¼ˆãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ + å–å¼•ã‚·ã‚¹ãƒ†ãƒ ï¼‰
# - /health ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»Cloud Runç›£è¦–é€£æº
# - ãƒ—ãƒ­ã‚»ã‚¹ç›£è¦–ãƒ»ç•°å¸¸çµ‚äº†æ¤œçŸ¥ãƒ»è‡ªå‹•å¾©æ—§
# - Cloud Runæœ€é©åŒ–ãƒ»ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãƒ»èµ·å‹•æ™‚é–“çŸ­ç¸®
```

### **æ©Ÿæ¢°å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ **

#### `scripts/ml/create_ml_models.py`
Phase22å¯¾å¿œãƒ»15ç‰¹å¾´é‡MLãƒ¢ãƒ‡ãƒ«å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ25.7KBå®Ÿè£…ï¼‰
```bash
# ä½¿ç”¨ä¾‹
python3 scripts/ml/create_ml_models.py --verbose    # è©³ç´°ãƒ­ã‚°å­¦ç¿’
python3 scripts/ml/create_ml_models.py --days 180   # 180æ—¥ãƒ‡ãƒ¼ã‚¿å­¦ç¿’
python3 scripts/ml/create_ml_models.py --dry-run    # å®Ÿè¡Œå‰ç¢ºèª

# æ©Ÿèƒ½:
# - LightGBMãƒ»XGBoostãƒ»RandomForest 3ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
# - ProductionEnsembleæ§‹ç¯‰ãƒ»é‡ã¿ä»˜ã‘æŠ•ç¥¨
# - feature_manageré€£æºãƒ»15ç‰¹å¾´é‡ç”Ÿæˆ
# - ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ãƒ»TimeSeriesSplit
# - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãƒ»è‡ªå‹•ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒ»CI/CDçµ±åˆ
```

### **ã‚·ã‚¹ãƒ†ãƒ åˆ†æåŸºç›¤**

#### `scripts/analytics/base_analyzer.py`
Cloud Runãƒ­ã‚°å–å¾—ãƒ»ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ãƒ»åˆ†ææ©Ÿèƒ½
```bash
# dev_check.pyã‹ã‚‰åˆ©ç”¨ã•ã‚Œã‚‹åŸºç›¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
# æ©Ÿèƒ½:
# - Cloud Runãƒ­ã‚°å–å¾—ãƒ»ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å°‚ç”¨å–å¾—
# - ã‚µãƒ¼ãƒ“ã‚¹ãƒ˜ãƒ«ã‚¹ç¢ºèªãƒ»ãƒ­ã‚°è§£æ
# - ã‚·ã‚°ãƒŠãƒ«é »åº¦åˆ†æãƒ»CSV/JSONä¿å­˜
# - gcloudã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå…±é€šãƒ©ãƒƒãƒ‘ãƒ¼
```

## ğŸ’¡ ã‚³ãƒãƒ³ãƒ‰ä¾‹é›†

### **æ—¥å¸¸é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# 1. é–‹ç™ºå‰å“è³ªç¢ºèª
bash scripts/testing/checks.sh

# 2. æ©Ÿèƒ½é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆè¿½åŠ 
# ...ã‚³ãƒ¼ãƒ‰ä¿®æ­£...

# 3. é–‹ç™ºå¾Œå“è³ªç¢ºèª
bash scripts/testing/checks.sh
python3 scripts/testing/dev_check.py check --level standard

# ğŸ†• 4. å®‰å…¨å®Ÿè¡Œã«ã‚ˆã‚‹å‹•ä½œç¢ºèªï¼ˆçŸ­æ™‚é–“ãƒ†ã‚¹ãƒˆï¼‰
bash scripts/management/run_safe.sh local paper  # 2-3åˆ†å®Ÿè¡Œå¾Œåœæ­¢

# 5. MLãƒ¢ãƒ‡ãƒ«æ›´æ–°ï¼ˆå¿…è¦æ™‚ï¼‰
python3 scripts/ml/create_ml_models.py --verbose

# 6. çµ±åˆç¢ºèª
python3 scripts/testing/dev_check.py check --level full
```

### **ç·Šæ€¥æ™‚å¯¾å¿œãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# 1. å³åº§è¨ºæ–­
python3 scripts/testing/dev_check.py status
python3 scripts/testing/dev_check.py health-check

# 2. è©³ç´°è¨ºæ–­
bash scripts/deployment/verify_gcp_setup.sh --full
bash scripts/testing/checks.sh

# 3. å¾©æ—§å¯¾å¿œ
# Critical: ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè¡Œ
# High: å€‹åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿®å¾©
# Medium: æ®µéšçš„ä¿®æ­£
```

### **å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**
```bash
# æ—¥æ¬¡ï¼ˆ5åˆ†ï¼‰
bash scripts/testing/checks.sh
python3 scripts/testing/dev_check.py status

# é€±æ¬¡ï¼ˆ10åˆ†ï¼‰  
python3 scripts/testing/dev_check.py full-check
gh run list --workflow=model-training.yml --limit 5

# æœˆæ¬¡ï¼ˆ30åˆ†ï¼‰
bash scripts/deployment/verify_gcp_setup.sh --full
python3 scripts/analytics/base_analyzer.py --monthly-report
```

## ğŸ“‹ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### **ä¸»è¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**
- `config/core/unified.yaml`: çµ±ä¸€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå…¨ç’°å¢ƒå¯¾å¿œï¼‰
- `config/core/thresholds.yaml`: å‹•çš„é–¾å€¤ç®¡ç†
- `config/core/feature_order.json`: 15ç‰¹å¾´é‡é †åºç®¡ç†
- `.github/workflows/ci.yml`: CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- `Dockerfile`: ã‚³ãƒ³ãƒ†ãƒŠè¨­å®š
- `pyproject.toml`: Pythonãƒ»pytestãƒ»coverageè¨­å®š

### **ç’°å¢ƒå¤‰æ•°**
- `MODE`: å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ï¼ˆpaper/live/backtestï¼‰
- `EXCHANGE`: å–å¼•æ‰€ï¼ˆbitbankï¼‰
- `GCP_PROJECT_ID`: GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID
- `DISCORD_WEBHOOK_URL`: Discordé€šçŸ¥URL

---

**ğŸ¯ çµ±åˆé‹ç”¨ä½“åˆ¶**: Phase22å®Œæˆã«ã‚ˆã‚Šã€15ç‰¹å¾´é‡çµ±åˆãƒ»5æˆ¦ç•¥çµ±åˆãƒ»ProductionEnsembleãƒ»Cloud Run 24æ™‚é–“ç¨¼åƒãƒ»Discord 3éšå±¤ç›£è¦–ãƒ»625ãƒ†ã‚¹ãƒˆ100%å“è³ªä¿è¨¼ãƒ»64.74%ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å®Ÿç¾ã—ãŸä¼æ¥­ç´šé‹ç”¨ã‚·ã‚¹ãƒ†ãƒ 

**ğŸ†• ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†å¼·åŒ–å®Œäº†**: å®‰å…¨å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`scripts/management/run_safe.sh`ï¼‰ã«ã‚ˆã‚Šã€é‡è¤‡èµ·å‹•é˜²æ­¢ãƒ»ç’°å¢ƒè‡ªå‹•åˆ¤å®šãƒ»ç„¡é™é€šçŸ¥å•é¡Œæ ¹æœ¬çš„è§£æ±ºã‚’å®Ÿç¾

**æœ€çµ‚æ›´æ–°**: 2025å¹´9æœˆ16æ—¥ - ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†ãƒ»Discordé€šçŸ¥æœ€é©åŒ–ãƒ»çµ±åˆé‹ç”¨ã‚¬ã‚¤ãƒ‰å¼·åŒ–å®Œæˆ