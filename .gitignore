# ──────────────────────────────────────────────────────────────────────────────
# Python bytecode
# ──────────────────────────────────────────────────────────────────────────────
__pycache__/
*.py[cod]
*.pyo
*$py.class
*.so

# ──────────────────────────────────────────────────────────────────────────────
# ビルド成果物 / パッケージング
# ──────────────────────────────────────────────────────────────────────────────
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST
pip-wheel-metadata/

# ──────────────────────────────────────────────────────────────────────────────
# 統合キャッシュディレクトリ（全て .cache 配下に集約）
# ──────────────────────────────────────────────────────────────────────────────
.cache/

# 旧キャッシュ系（統合前の散らばりファイル対策）
.pytest_cache/
.mypy_cache/
.pytype/
.coverage_data/
test_reports/

# カバレッジレポート（coverage-reports/で管理）
coverage-reports/.coverage.*     # 一時カバレッジファイル
coverage-reports/htmlcov/        # HTMLレポート（サイズ大・動的生成）
.coverage                        # ルートの一時カバレッジファイル
coverage.xml                     # XML形式レポート

# ──────────────────────────────────────────────────────────────────────────────
# 仮想環境
# ──────────────────────────────────────────────────────────────────────────────
venv/
env/
ENV/
.venv/
.env/
__pypackages__/   # PEP 582

# ──────────────────────────────────────────────────────────────────────────────
# 環境変数・設定ファイル
# ──────────────────────────────────────────────────────────────────────────────
.env
.env.*            # .env.local など
config/local.yml
config/production.yml

# ──────────────────────────────────────────────────────────────────────────────
# IDE・エディタ
# ──────────────────────────────────────────────────────────────────────────────
.vscode/
.idea/
*.code-workspace
*.swp
*.swo
*~

# ──────────────────────────────────────────────────────────────────────────────
# OS関連
# ──────────────────────────────────────────────────────────────────────────────
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# ──────────────────────────────────────────────────────────────────────────────
# ログ / 結果 / モデルなど実行時生成物
# ──────────────────────────────────────────────────────────────────────────────
*.log
logs/
results/
*/results/

# ──────────────────────────────────────────────────────────────────────────────
# 学習済みモデル・ML関連（Phase 17新システム対応）
# ──────────────────────────────────────────────────────────────────────────────
# 動的生成される学習中間ファイル・一時モデル
*.pkl
# 本番用モデルは例外（CI/CD必須）
!models/production/production_ensemble.pkl
*.model
*.joblib
*.h5
*.pt
*.pth
*.onnx

# 学習ログ・実験結果
mlruns/
wandb/
tensorboard_logs/
training_logs/
model_artifacts/

# ただし、管理対象のモデルファイルは保持
!models/production/*.pkl          # 本番用モデル（管理対象）
!models/training/*.pkl            # 学習用モデル（管理対象）
!models/**/*.pkl                  # その他管理対象モデル

# モデル評価・実験の一時結果
model_evaluation_*.json
experiment_*.csv
hyperparameter_*.json

# ──────────────────────────────────────────────────────────────────────────────
# データファイル（Phase 17新システム対応）
# ──────────────────────────────────────────────────────────────────────────────
# 動的データ・ダウンロードファイル
data/
raw_data/
downloaded_data/
cache_data/
*.csv
*.parquet
*.feather
*.hdf5

# バックテスト関連データ（動的生成）
src/backtest/data/*.csv           # 履歴データキャッシュ
src/backtest/data/*.json          # 結果データ
backtest_results/
historical_data/

# ただし、ソースコード・設定ファイルは保持
!src/data/                        # src/data/ ディレクトリ自体は保持
!src/data/*.py                    # データ処理ソースコード
!src/backtest/data/README.md      # バックテストデータ説明
!config/**/*.csv                  # 設定用CSVファイル

# ──────────────────────────────────────────────────────────────────────────────
# 実行時生成ファイル（Phase 17新システム対応）
# ──────────────────────────────────────────────────────────────────────────────
# 取引・リスク管理関連
drawdown_state.json
risk_state.json
trading_state.json
position_*.json

# 監視・ログ関連
status.json
health_check.json
*.monitoring_*.log
pipeline_log/
performance_*.json

# 分析・レポート関連（scripts/analytics/）
logs/performance_analysis/
logs/operational_reports/
logs/monitoring_reports/
analysis_report_*.md
analysis_report_*.json

# ──────────────────────────────────────────────────────────────────────────────
# バックアップ・一時ファイル
# ──────────────────────────────────────────────────────────────────────────────
*.tmp
*.temp
temp/
tmp/
*.bak
*.backup
*.json.bak
*.yaml.bak
backups/
feature_order_backup_*.json

# ──────────────────────────────────────────────────────────────────────────────
# 一時的な分析・開発ファイル
# ──────────────────────────────────────────────────────────────────────────────
analyze_results.py
analysis_script.py
big.txt
temp_*.py
*_temp.py
readme/

# 投機・試算分析ファイル
aggressive_projection_analysis.py
analyze_bitbank_projection.py
realistic_annual_projection.py
realistic_bitbank_projection.py

# ──────────────────────────────────────────────────────────────────────────────
# Docker関連
# ──────────────────────────────────────────────────────────────────────────────
*.dockerignore
docker-compose.override.yml

# ──────────────────────────────────────────────────────────────────────────────
# Terraform
# ──────────────────────────────────────────────────────────────────────────────
**/.terraform/
**/*.tfstate
**/*.tfstate.backup
**/.terraform.lock.hcl
.terraform.tfstate.lock.info
archive/

# ──────────────────────────────────────────────────────────────────────────────
# レガシーシステム（参考用アーカイブ・Phase 17完了）
# ──────────────────────────────────────────────────────────────────────────────
# 注意: _legacy_v1/ は既にコミット済みアーカイブです
# 新規開発では _legacy_v1/ 内のコードを参照・コピーしないでください
# 
# 将来の誤参照防止のため、今後の変更は無視対象:
_legacy_v1/

# レガシーシステム関連の一時ファイル・生成物
**/legacy_*
**/old_*
**/backup_*
_old/
_backup/
legacy/